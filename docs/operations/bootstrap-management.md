# ブートストラップ管理

> 📖 **親ドキュメント**: [README.md](../../README.md)

## 概要

CloudFormationで構築した踏み台環境の再作成や完全削除を行う手順をまとめています。

## ブートストラップ環境の管理

### インスタンスの再作成（AWSコンソール操作）

ブートストラップインスタンスを再作成する場合：

1. **AWSコンソールにログイン**
2. **CloudFormationサービスに移動**
3. **スタック一覧から`bootstrap-iac-environment`を選択**
4. **「更新」ボタンをクリック**
5. **「既存のテンプレートを使用」を選択して「次へ」**
6. **パラメータ画面で`InstanceVersion`の値を変更**（例：v1 → v2、または現在時刻）
7. **他のパラメータはそのままで「次へ」**
8. **スタックオプションはデフォルトのまま「次へ」**
9. **確認画面で「スタックの更新」をクリック**

再作成後も以下の情報は保持されます：
- Pulumi S3バケットとその内容
- SSMパラメータストア内の設定（GitHub SSHキー、Pulumiパスフレーズなど）
- VPCやセキュリティグループなどのネットワーク設定

### ブートストラップ環境の完全削除（AWSコンソール操作）

ブートストラップ環境を完全に削除する場合：

1. **CloudFormationサービスに移動**
2. **スタック一覧から`bootstrap-iac-environment`を選択**
3. **「削除」ボタンをクリック**
4. **確認ダイアログで「削除」を確認**

**警告**: スタック削除により以下がすべて削除されます：
- EC2インスタンス
- VPCとネットワーク関連リソース
- Pulumi S3バケット（**状態データも含む**）
- SSMパラメータ（保存された設定）
- IAMロールとポリシー

削除前に必要なデータのバックアップを取ることを強く推奨します。

## 関連ドキュメント

- [インフラ削除](infrastructure-teardown.md)
- [前提条件](../setup/prerequisites.md)
- [README.md](../../README.md)
