# データフロー図セクション更新 - 計画立案段階

以下の情報に基づいて、システムのデータフロー図セクション更新計画を立ててください。

## 現在のデータフロー図セクション
```markdown
{current_content}
```

## 前のセクションから抽出された構造化情報
```
{structured_info}
```

## 既存のダイアグラム
```
{existing_diagrams}
```

## データフロー図セクションの目的と制約

### 目的
このセクションは「システム内でデータがどのように流れ、処理されるか」を**直感的に理解可能な形で**視覚的に表現します。

### 重要な制約
1. **情報量の最適化**
   - 1つのダイアグラムに含める主要要素は5-7個程度
   - 詳細すぎる情報は排除し、本質的な流れに焦点
   - リポジトリの特徴的な処理を優先的に表現

2. **リポジトリ固有性の維持**
   - ドメイン固有の用語や概念を保持
   - 一般的なCRUD操作より特徴的な処理を重視
   - このリポジトリならではの価値を明確に表現

### 使用可能なダイアグラム
1. **シーケンスダイアグラム**：主要な処理フローと相互作用
2. **状態ダイアグラム**：重要なデータ状態の遷移

## 計画立案のタスク

1. **情報の優先順位付け**
   - リポジトリの中核的な機能の特定
   - 特徴的で固有な処理フローの抽出
   - 一般的で省略可能な処理の識別

2. **ダイアグラムの構成計画**
   - 全体像を示すメインダイアグラム（1-2個）
   - 必要に応じた詳細ダイアグラム（最大3個）
   - 各ダイアグラムの役割と含める要素

3. **情報の整理と簡略化**
   - 類似処理のグループ化方法
   - 繰り返しパターンの抽象化レベル
   - 省略する詳細情報の基準

## 出力形式

### 1. 情報の分析と優先順位
- **コア機能**：リポジトリの本質的な価値を提供する機能
- **特徴的な処理**：他のシステムと差別化される独自の処理
- **標準的な処理**：一般化または省略可能な処理
- **不足情報**：判断に必要だが欠けている情報

### 2. ダイアグラム構成案
- **メインダイアグラム**
  - 目的と表現する内容
  - 含める主要要素（5-7個）
  - 省略する詳細
- **サブダイアグラム**（必要な場合）
  - 各図の目的と焦点
  - メイン図との関係

### 3. 簡略化の方針
- **グループ化の基準**：どのような要素をまとめるか
- **抽象化のレベル**：どの程度の詳細を保持するか
- **リポジトリ固有性の保持方法**：何を必ず残すか
