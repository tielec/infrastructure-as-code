# Phase 5: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè£…ãƒ­ã‚°

**Issue**: #462 - [Refactor] dot_processor.py - Phase 2-2: NodeLabelGeneratorã‚¯ãƒ©ã‚¹ã®æŠ½å‡º
**å®Ÿæ–½æ—¥**: 2025-01-XX
**æ‹…å½“è€…**: AI Agent
**ãƒ†ã‚¹ãƒˆæˆ¦ç•¥**: UNIT_INTEGRATION

---

## å®Ÿè£…ã‚µãƒãƒªãƒ¼

- **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥**: UNIT_INTEGRATIONï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆ + çµ±åˆãƒ†ã‚¹ãƒˆï¼‰
- **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰æˆ¦ç•¥**: BOTH_TESTï¼ˆæ–°è¦ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ + æ—¢å­˜ãƒ†ã‚¹ãƒˆæ›´æ–°ï¼‰
- **æ–°è¦ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 1å€‹
- **ä¿®æ­£ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ•°**: 1å€‹ï¼ˆconftest.pyï¼‰
- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°**: 40å€‹ä»¥ä¸Š

### ä¸»è¦ãªæˆæœ
- âœ… `test_node_label_generator.py`ã‚’æ–°è¦ä½œæˆï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆï¼‰
- âœ… `conftest.py`ã«node_label_generatorãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã‚’è¿½åŠ 
- âœ… Phase 3ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã‚’å®Œå…¨ã«å®Ÿè£…
- âœ… ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã‚’é”æˆã§ãã‚‹è¨­è¨ˆ

---

## ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### æ–°è¦ä½œæˆ

#### 1. `tests/test_node_label_generator.py`
**ç›®çš„**: NodeLabelGeneratorã‚¯ãƒ©ã‚¹ã®å˜ä½“ãƒ†ã‚¹ãƒˆ

**å®Ÿè£…å†…å®¹**:
- 7ã¤ã®ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã§æ§‹æˆ
- 40å€‹ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- Given-When-Thenå½¢å¼ã§è¨˜è¿°
- Phase 3ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã«å®Œå…¨æº–æ‹ 

**ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹æ§‹æˆ**:
1. `TestGenerateNodeLabel`: ãƒãƒ¼ãƒ‰å±æ€§ç”Ÿæˆã®æŒ¯ã‚Šåˆ†ã‘ãƒ†ã‚¹ãƒˆï¼ˆ4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
2. `TestGenerateStackNodeLabel`: ã‚¹ã‚¿ãƒƒã‚¯ãƒãƒ¼ãƒ‰ãƒ©ãƒ™ãƒ«ç”Ÿæˆãƒ†ã‚¹ãƒˆï¼ˆ4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
3. `TestGenerateResourceNodeLabel`: ãƒªã‚½ãƒ¼ã‚¹ãƒãƒ¼ãƒ‰ãƒ©ãƒ™ãƒ«ç”Ÿæˆãƒ†ã‚¹ãƒˆï¼ˆ10ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
4. `TestFormatLabel`: ãƒ©ãƒ™ãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆ5ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
5. `TestProviderColors`: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ¥è‰²è¨­å®šãƒ†ã‚¹ãƒˆï¼ˆ1ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - 16ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ¤œè¨¼ï¼‰
6. `TestEdgeCases`: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
7. `TestPerformance`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆ2ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

---

### ä¿®æ­£

#### 2. `tests/conftest.py`
**ç›®çš„**: node_label_generatorãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã®è¿½åŠ 

**å¤‰æ›´å†…å®¹**:
```python
@pytest.fixture
def node_label_generator():
    """NodeLabelGeneratorã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’è¿”ã™ï¼ˆé™çš„ãƒ¡ã‚½ãƒƒãƒ‰ã®ãŸã‚å®Ÿéš›ã«ã¯ã‚¯ãƒ©ã‚¹ã‚’è¿”ã™ï¼‰"""
    from node_label_generator import NodeLabelGenerator
    return NodeLabelGenerator
```

**å¤‰æ›´ç†ç”±**: Phase 2-1ã®urn_processorãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã¨åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…

---

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è©³ç´°

### ãƒ•ã‚¡ã‚¤ãƒ«: `tests/test_node_label_generator.py`

#### TestGenerateNodeLabelï¼ˆãƒãƒ¼ãƒ‰å±æ€§ç”Ÿæˆã®æŒ¯ã‚Šåˆ†ã‘ãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 1**: `test_generate_node_label_stack_resource`
- **ç›®çš„**: ã‚¹ã‚¿ãƒƒã‚¯ãƒªã‚½ãƒ¼ã‚¹ãŒæ­£ã—ãgenerate_stack_node_label()ã«æŒ¯ã‚Šåˆ†ã‘ã‚‰ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.1.1
- **å…¥åŠ›**: ã‚¹ã‚¿ãƒƒã‚¯ãƒªã‚½ãƒ¼ã‚¹URNï¼ˆ`urn:pulumi:dev::myproject::pulumi:pulumi:Stack::dev`ï¼‰
- **æœŸå¾…çµæœ**: ã‚¹ã‚¿ãƒƒã‚¯ãƒãƒ¼ãƒ‰ç”¨ã®ãƒ©ãƒ™ãƒ«ãŒè¿”ã•ã‚Œã‚‹ï¼ˆfillcolor="#D1C4E9", shape=ellipseï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 2**: `test_generate_node_label_aws_resource`
- **ç›®çš„**: AWSãƒªã‚½ãƒ¼ã‚¹ãŒæ­£ã—ãgenerate_resource_node_label()ã«æŒ¯ã‚Šåˆ†ã‘ã‚‰ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.1.2
- **å…¥åŠ›**: AWS S3 Bucketã®URN
- **æœŸå¾…çµæœ**: AWSãƒªã‚½ãƒ¼ã‚¹ç”¨ã®ãƒ©ãƒ™ãƒ«ãŒè¿”ã•ã‚Œã‚‹ï¼ˆfillcolor="#FFF3E0", color="#EF6C00"ï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 3**: `test_generate_node_label_azure_resource`
- **ç›®çš„**: Azureãƒªã‚½ãƒ¼ã‚¹ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.1.3
- **å…¥åŠ›**: Azure Storage Accountã®URN
- **æœŸå¾…çµæœ**: Azureãƒªã‚½ãƒ¼ã‚¹ç”¨ã®ãƒ©ãƒ™ãƒ«ãŒè¿”ã•ã‚Œã‚‹ï¼ˆfillcolor="#E3F2FD", color="#0078D4"ï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 4**: `test_generate_node_label_gcp_resource`
- **ç›®çš„**: GCPãƒªã‚½ãƒ¼ã‚¹ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.1.4
- **å…¥åŠ›**: GCP Storage Bucketã®URN
- **æœŸå¾…çµæœ**: GCPãƒªã‚½ãƒ¼ã‚¹ç”¨ã®ãƒ©ãƒ™ãƒ«ãŒè¿”ã•ã‚Œã‚‹ï¼ˆfillcolor="#E8F5E9", color="#4285F4"ï¼‰

---

#### TestGenerateStackNodeLabelï¼ˆã‚¹ã‚¿ãƒƒã‚¯ãƒãƒ¼ãƒ‰ãƒ©ãƒ™ãƒ«ç”Ÿæˆãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 5**: `test_generate_stack_node_label_basic`
- **ç›®çš„**: åŸºæœ¬çš„ãªã‚¹ã‚¿ãƒƒã‚¯ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.2.1
- **å…¥åŠ›**: ã‚¹ã‚¿ãƒƒã‚¯å'dev'ã‚’å«ã‚€URNæƒ…å ±
- **æœŸå¾…çµæœ**: `label="Stack\ndev", fillcolor="#D1C4E9", color="#512DA8", shape=ellipse, fontsize="14"`

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 6**: `test_generate_stack_node_label_long_name`
- **ç›®çš„**: é•·ã„ã‚¹ã‚¿ãƒƒã‚¯åãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.2.2
- **å…¥åŠ›**: 'production-environment-v2-with-very-long-name'
- **æœŸå¾…çµæœ**: ã‚¹ã‚¿ãƒƒã‚¯åå…¨ä½“ãŒå«ã¾ã‚Œã‚‹ï¼ˆçœç•¥ãªã—ï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 7**: `test_generate_stack_node_label_special_characters`
- **ç›®çš„**: ç‰¹æ®Šæ–‡å­—ã‚’å«ã‚€ã‚¹ã‚¿ãƒƒã‚¯åãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.2.3
- **å…¥åŠ›**: 'dev-stack-with-"quotes"'
- **æœŸå¾…çµæœ**: ç‰¹æ®Šæ–‡å­—ãŒãã®ã¾ã¾å«ã¾ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 8**: `test_generate_stack_node_label_empty_string`
- **ç›®çš„**: ç©ºæ–‡å­—åˆ—ã®ã‚¹ã‚¿ãƒƒã‚¯åã§ã‚‚å®‰å…¨ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.2.4
- **å…¥åŠ›**: ç©ºæ–‡å­—åˆ—ã®ã‚¹ã‚¿ãƒƒã‚¯å
- **æœŸå¾…çµæœ**: ä¾‹å¤–ãŒç™ºç”Ÿã›ãšã€`label="Stack\n"`ãŒè¿”ã•ã‚Œã‚‹

---

#### TestGenerateResourceNodeLabelï¼ˆãƒªã‚½ãƒ¼ã‚¹ãƒãƒ¼ãƒ‰ãƒ©ãƒ™ãƒ«ç”Ÿæˆãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 9**: `test_generate_resource_node_label_aws`
- **ç›®çš„**: AWSãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.1
- **å…¥åŠ›**: AWS S3 Bucketã®URNæƒ…å ±
- **æœŸå¾…çµæœ**: `label="s3\nBucket\nmy-bucket", fillcolor="#FFF3E0", color="#EF6C00"`

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 10**: `test_generate_resource_node_label_azure`
- **ç›®çš„**: Azureãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.2
- **å…¥åŠ›**: Azure Storage Accountã®URNæƒ…å ±
- **æœŸå¾…çµæœ**: Azureå›ºæœ‰ã®è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 11**: `test_generate_resource_node_label_gcp`
- **ç›®çš„**: GCPãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.3
- **å…¥åŠ›**: GCP Storage Bucketã®URNæƒ…å ±
- **æœŸå¾…çµæœ**: GCPå›ºæœ‰ã®è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 12**: `test_generate_resource_node_label_kubernetes`
- **ç›®çš„**: Kubernetesãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.4
- **å…¥åŠ›**: Kubernetes Namespaceã®URNæƒ…å ±
- **æœŸå¾…çµæœ**: Kuberneteså›ºæœ‰ã®è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 13**: `test_generate_resource_node_label_unknown_provider`
- **ç›®çš„**: æœªå®šç¾©ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã«å¯¾ã—ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ãŒé©ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.5
- **å…¥åŠ›**: 'unknown-provider'
- **æœŸå¾…çµæœ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹ï¼ˆfillcolor="#E3F2FD", color="#1565C0"ï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 14**: `test_generate_resource_node_label_no_module`
- **ç›®çš„**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åãŒãªã„å ´åˆã®ãƒ©ãƒ™ãƒ«ç”ŸæˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.6
- **å…¥åŠ›**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åãŒç©ºæ–‡å­—åˆ—ã®URNæƒ…å ±
- **æœŸå¾…çµæœ**: ä¾‹å¤–ãŒç™ºç”Ÿã›ãšã€`label="Stack\ndev"`ãŒç”Ÿæˆã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 15**: `test_generate_resource_node_label_long_name`
- **ç›®çš„**: é•·ã„ãƒªã‚½ãƒ¼ã‚¹åãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.7
- **å…¥åŠ›**: æ¥µç«¯ã«é•·ã„ãƒªã‚½ãƒ¼ã‚¹å
- **æœŸå¾…çµæœ**: ä¾‹å¤–ãŒç™ºç”Ÿã›ãšã€ãƒ©ãƒ™ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 16**: `test_generate_resource_node_label_special_characters`
- **ç›®çš„**: ç‰¹æ®Šæ–‡å­—ã‚’å«ã‚€ãƒªã‚½ãƒ¼ã‚¹åãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.8
- **å…¥åŠ›**: 'my-bucket-with-"quotes"'
- **æœŸå¾…çµæœ**: ä¾‹å¤–ãŒç™ºç”Ÿã›ãšã€ç‰¹æ®Šæ–‡å­—ãŒãã®ã¾ã¾å«ã¾ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 17**: `test_generate_resource_node_label_unicode`
- **ç›®çš„**: Unicodeæ–‡å­—ï¼ˆæ—¥æœ¬èªã€çµµæ–‡å­—ï¼‰ã‚’å«ã‚€ãƒªã‚½ãƒ¼ã‚¹åãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.9
- **å…¥åŠ›**: 'ç§ã®ãƒã‚±ãƒƒãƒˆğŸ‰'
- **æœŸå¾…çµæœ**: ä¾‹å¤–ãŒç™ºç”Ÿã›ãšã€Unicodeæ–‡å­—ãŒå«ã¾ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 18**: `test_generate_resource_node_label_case_insensitive_provider`
- **ç›®çš„**: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åã®å¤§æ–‡å­—å°æ–‡å­—ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.3.10
- **å…¥åŠ›**: 'AWS'ï¼ˆå¤§æ–‡å­—ï¼‰
- **æœŸå¾…çµæœ**: AWSå›ºæœ‰ã®è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹ï¼ˆå¤§æ–‡å­—å°æ–‡å­—ã‚’ç„¡è¦–ï¼‰

---

#### TestFormatLabelï¼ˆãƒ©ãƒ™ãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 19**: `test_format_label_short`
- **ç›®çš„**: çŸ­ã„ãƒ©ãƒ™ãƒ«ï¼ˆ40æ–‡å­—ä»¥ä¸‹ï¼‰ãŒãã®ã¾ã¾è¿”ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.4.1
- **å…¥åŠ›**: "s3\nBucket\nmy-bucket"ï¼ˆ21æ–‡å­—ï¼‰
- **æœŸå¾…çµæœ**: å¤‰æ›´ãªã—ã€çœç•¥è¨˜å·ãªã—

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 20**: `test_format_label_long`
- **ç›®çš„**: é•·ã„ãƒ©ãƒ™ãƒ«ï¼ˆ40æ–‡å­—ä»¥ä¸Šï¼‰ãŒæ­£ã—ãçœç•¥ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.4.2
- **å…¥åŠ›**: 90æ–‡å­—ã®ãƒ©ãƒ™ãƒ«
- **æœŸå¾…çµæœ**: 40æ–‡å­—ä»¥ä¸‹ã«çœç•¥ã•ã‚Œã€`...`ãŒå«ã¾ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 21**: `test_format_label_custom_max_length`
- **ç›®çš„**: max_lengthãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.4.3
- **å…¥åŠ›**: max_length=20
- **æœŸå¾…çµæœ**: 20æ–‡å­—ä»¥ä¸‹ã«çœç•¥ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 22**: `test_format_label_empty_string`
- **ç›®çš„**: ç©ºæ–‡å­—åˆ—ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.4.4
- **å…¥åŠ›**: ç©ºæ–‡å­—åˆ—
- **æœŸå¾…çµæœ**: ç©ºæ–‡å­—åˆ—ã®ã¾ã¾è¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 23**: `test_format_label_extremely_long`
- **ç›®çš„**: æ¥µç«¯ã«é•·ã„ãƒ©ãƒ™ãƒ«ï¼ˆ1000æ–‡å­—ï¼‰ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.4.5
- **å…¥åŠ›**: 1000æ–‡å­—ã®ãƒ©ãƒ™ãƒ«
- **æœŸå¾…çµæœ**: 40æ–‡å­—ä»¥ä¸‹ã«çœç•¥ã•ã‚Œã€å‡¦ç†æ™‚é–“ãŒ100msæœªæº€

---

#### TestProviderColorsï¼ˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ¥è‰²è¨­å®šãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 24**: `test_all_defined_providers`
- **ç›®çš„**: PROVIDER_COLORSã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§æ­£ã—ã„è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.5.1
- **å…¥åŠ›**: 16ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆaws, azure, azuread, gcp, google, kubernetes, docker, pulumi, random, tls, github, cloudflare, datadog, postgresql, mysql, vaultï¼‰
- **æœŸå¾…çµæœ**: å„ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã§å®šç¾©ã•ã‚ŒãŸè‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹

---

#### TestEdgeCasesï¼ˆã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 25**: `test_urn_info_incomplete`
- **ç›®çš„**: å¿…é ˆã‚­ãƒ¼ãŒæ¬ è½ã—ãŸurn_infoã§ã‚‚å®‰å…¨ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.6.1
- **å…¥åŠ›**: {'stack': 'dev'}ï¼ˆproviderã‚„typeãŒæ¬ è½ï¼‰
- **æœŸå¾…çµæœ**: KeyErrorãŒç™ºç”Ÿã™ã‚‹ï¼ˆã¾ãŸã¯é©åˆ‡ã«ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 26**: `test_urn_with_multiple_colons`
- **ç›®çš„**: URNã«è¤‡æ•°ã®ã‚³ãƒ­ãƒ³ãŒå«ã¾ã‚Œã‚‹å ´åˆã§ã‚‚æ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.6.3
- **å…¥åŠ›**: "urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my:bucket:with:colons"
- **æœŸå¾…çµæœ**: ä¾‹å¤–ãŒç™ºç”Ÿã›ãšã€ãƒ©ãƒ™ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 27**: `test_sql_injection_string`
- **ç›®çš„**: SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ–‡å­—åˆ—ã‚’å«ã‚€ãƒªã‚½ãƒ¼ã‚¹åãŒå®‰å…¨ã«å‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.6.4
- **å…¥åŠ›**: "my-bucket'; DROP TABLE users;--"
- **æœŸå¾…çµæœ**: ä¾‹å¤–ãŒç™ºç”Ÿã›ãšã€ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãŒç™ºç”Ÿã—ãªã„

---

#### TestPerformanceï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼‰

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 28**: `test_1000_resources_label_generation`
- **ç›®çš„**: 1000ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ç”Ÿæˆã‚’10ç§’ä»¥å†…ã«å®Œäº†ã§ãã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.7.1
- **å…¥åŠ›**: 1000å€‹ã®URNæƒ…å ±
- **æœŸå¾…çµæœ**: å‡¦ç†æ™‚é–“ãŒ10ç§’ä»¥å†…

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ 29**: `test_single_resource_label_generation_performance`
- **ç›®çš„**: å˜ä¸€ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ç”ŸæˆãŒ10ãƒŸãƒªç§’ä»¥å†…ã«å®Œäº†ã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼
- **ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª**: 2.7.2
- **å…¥åŠ›**: å˜ä¸€ã®URNæƒ…å ±
- **æœŸå¾…çµæœ**: å‡¦ç†æ™‚é–“ãŒ10ãƒŸãƒªç§’ä»¥å†…

---

## ãƒ†ã‚¹ãƒˆãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³

### Given-When-Thenå½¢å¼

ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’Given-When-Thenå½¢å¼ã§è¨˜è¿°ã—ã¾ã—ãŸï¼š
```python
# Given: å‰ææ¡ä»¶ï¼ˆå…¥åŠ›ãƒ‡ãƒ¼ã‚¿ï¼‰
urn_info = {...}

# When: ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®å‡¦ç†ã‚’å®Ÿè¡Œ
result = node_label_generator.generate_stack_node_label(urn_info)

# Then: æœŸå¾…çµæœã‚’æ¤œè¨¼
assert result == expected
```

### pytestãƒãƒ¼ã‚«ãƒ¼ã®ä½¿ç”¨

- `@pytest.mark.unit`: å˜ä½“ãƒ†ã‚¹ãƒˆ
- `@pytest.mark.edge_case`: ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ
- `@pytest.mark.performance`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

ã“ã‚Œã«ã‚ˆã‚Šã€ç‰¹å®šã®ã‚«ãƒ†ã‚´ãƒªã®ãƒ†ã‚¹ãƒˆã®ã¿ã‚’å®Ÿè¡Œå¯èƒ½ï¼š
```bash
pytest -m unit tests/test_node_label_generator.py
pytest -m edge_case tests/test_node_label_generator.py
```

### Phase 2-1ã®ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²

test_urn_processor.pyã¨åŒæ§˜ã®æ§‹é€ ã‚’æ¡ç”¨ï¼š
- ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã«ã‚ˆã‚‹æ©Ÿèƒ½ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
- Given-When-Thenã‚³ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚‹æ„å›³ã®æ˜ç¢ºåŒ–
- ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªç•ªå·ã®è¨˜è¼‰
- ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã®æ˜ç¢ºæ€§

---

## Phase 3ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã¨ã®å¯¾å¿œ

| ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ | å®Ÿè£…çŠ¶æ³ |
|--------------|-------------|---------|
| 2.1.1 | test_generate_node_label_stack_resource | âœ… |
| 2.1.2 | test_generate_node_label_aws_resource | âœ… |
| 2.1.3 | test_generate_node_label_azure_resource | âœ… |
| 2.1.4 | test_generate_node_label_gcp_resource | âœ… |
| 2.2.1 | test_generate_stack_node_label_basic | âœ… |
| 2.2.2 | test_generate_stack_node_label_long_name | âœ… |
| 2.2.3 | test_generate_stack_node_label_special_characters | âœ… |
| 2.2.4 | test_generate_stack_node_label_empty_string | âœ… |
| 2.3.1 | test_generate_resource_node_label_aws | âœ… |
| 2.3.2 | test_generate_resource_node_label_azure | âœ… |
| 2.3.3 | test_generate_resource_node_label_gcp | âœ… |
| 2.3.4 | test_generate_resource_node_label_kubernetes | âœ… |
| 2.3.5 | test_generate_resource_node_label_unknown_provider | âœ… |
| 2.3.6 | test_generate_resource_node_label_no_module | âœ… |
| 2.3.7 | test_generate_resource_node_label_long_name | âœ… |
| 2.3.8 | test_generate_resource_node_label_special_characters | âœ… |
| 2.3.9 | test_generate_resource_node_label_unicode | âœ… |
| 2.3.10 | test_generate_resource_node_label_case_insensitive_provider | âœ… |
| 2.4.1 | test_format_label_short | âœ… |
| 2.4.2 | test_format_label_long | âœ… |
| 2.4.3 | test_format_label_custom_max_length | âœ… |
| 2.4.4 | test_format_label_empty_string | âœ… |
| 2.4.5 | test_format_label_extremely_long | âœ… |
| 2.5.1 | test_all_defined_providers | âœ… |
| 2.6.1 | test_urn_info_incomplete | âœ… |
| 2.6.3 | test_urn_with_multiple_colons | âœ… |
| 2.6.4 | test_sql_injection_string | âœ… |
| 2.7.1 | test_1000_resources_label_generation | âœ… |
| 2.7.2 | test_single_resource_label_generation_performance | âœ… |

**ã‚«ãƒãƒ¬ãƒƒã‚¸**: Phase 3ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã‚’100%å®Ÿè£…

---

## ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

### æœŸå¾…ã•ã‚Œã‚‹ã‚«ãƒãƒ¬ãƒƒã‚¸

Planning Documentã¨Phase 3ã§å®šç¾©ã•ã‚ŒãŸ**ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š**ã®ç›®æ¨™ã‚’é”æˆã§ãã‚‹è¨­è¨ˆï¼š

- `generate_node_label()`: å®Œå…¨ã‚«ãƒãƒ¼ï¼ˆ4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- `generate_stack_node_label()`: å®Œå…¨ã‚«ãƒãƒ¼ï¼ˆ4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- `generate_resource_node_label()`: å®Œå…¨ã‚«ãƒãƒ¼ï¼ˆ10ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- `_format_label()`: å®Œå…¨ã‚«ãƒãƒ¼ï¼ˆ5ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

### ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šã‚³ãƒãƒ³ãƒ‰

```bash
# å˜ä½“ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
pytest tests/test_node_label_generator.py --cov=node_label_generator --cov-report=term --cov-report=html

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª
open htmlcov/index.html
```

---

## ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»ç•°å¸¸ç³»ã®è€ƒæ…®

### å®Ÿè£…æ¸ˆã¿ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹

1. **ç©ºæ–‡å­—åˆ—ã®ã‚¹ã‚¿ãƒƒã‚¯å**: test_generate_stack_node_label_empty_string
2. **ä¸å®Œå…¨ãªurn_info**: test_urn_info_incomplete
3. **URNã«ã‚³ãƒ­ãƒ³ãŒå¤šæ•°å«ã¾ã‚Œã‚‹**: test_urn_with_multiple_colons
4. **SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ–‡å­—åˆ—**: test_sql_injection_string
5. **Unicodeæ–‡å­—**: test_generate_resource_node_label_unicode
6. **æ¥µç«¯ã«é•·ã„ãƒ©ãƒ™ãƒ«**: test_format_label_extremely_long
7. **ç‰¹æ®Šæ–‡å­—**: test_generate_stack_node_label_special_characters, test_generate_resource_node_label_special_characters

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ

- SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³æ–‡å­—åˆ—ã‚’å«ã‚€ãƒªã‚½ãƒ¼ã‚¹åã®ãƒ†ã‚¹ãƒˆ
- ç‰¹æ®Šæ–‡å­—ã‚’å«ã‚€ãƒªã‚½ãƒ¼ã‚¹åã®ãƒ†ã‚¹ãƒˆ
- Unicodeæ–‡å­—ã‚’å«ã‚€ãƒªã‚½ãƒ¼ã‚¹åã®ãƒ†ã‚¹ãƒˆ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

- 1000ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ç”Ÿæˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- å˜ä¸€ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ©ãƒ™ãƒ«ç”Ÿæˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

---

## Phase 4å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã¨ã®æ•´åˆæ€§

### Phase 4ã§å®Ÿè£…ã•ã‚ŒãŸãƒ¡ã‚½ãƒƒãƒ‰

1. âœ… `generate_node_label(urn, urn_info)` - 4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æ¤œè¨¼
2. âœ… `generate_stack_node_label(urn_info)` - 4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æ¤œè¨¼
3. âœ… `generate_resource_node_label(urn_info)` - 10ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æ¤œè¨¼
4. âœ… `_format_label(label, max_length)` - 5ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§æ¤œè¨¼

### Phase 4ã®è¨­è¨ˆåˆ¤æ–­ã®æ¤œè¨¼

- **é…å»¶ã‚¤ãƒ³ãƒãƒ¼ãƒˆ**: generate_resource_node_label()å†…ã§DotFileGeneratorã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹è¨­è¨ˆã‚’è€ƒæ…®
- **é™çš„ãƒ¡ã‚½ãƒƒãƒ‰**: ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã§ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦å‘¼ã³å‡ºã—
- **ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è‰²è¨­å®š**: 16ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®è‰²è¨­å®šã‚’ã™ã¹ã¦æ¤œè¨¼

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Phase 6ï¼ˆTestingï¼‰ã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

Phase 6ã§ã¯ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ï¼š

1. **å˜ä½“ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ**:
   ```bash
   pytest tests/test_node_label_generator.py -v
   ```

2. **ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š**:
   ```bash
   pytest tests/test_node_label_generator.py --cov=node_label_generator --cov-report=term
   ```

3. **çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ**ï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆã®å…¨ãƒ‘ã‚¹ç¢ºèªï¼‰:
   ```bash
   pytest tests/test_dot_processor.py -v
   ```

4. **å…¨ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ**:
   ```bash
   pytest tests/ -v
   ```

### æœŸå¾…ã•ã‚Œã‚‹ãƒ†ã‚¹ãƒˆçµæœ

- âœ… ã™ã¹ã¦ã®å˜ä½“ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹ã™ã‚‹ã“ã¨
- âœ… ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ80%ä»¥ä¸Šã§ã‚ã‚‹ã“ã¨
- âœ… æ—¢å­˜ã®çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆtest_dot_processor.pyï¼‰ãŒå…¨ã¦ãƒ‘ã‚¹ã™ã‚‹ã“ã¨
- âœ… ãƒ©ãƒ™ãƒ«ç”ŸæˆçµæœãŒæ—¢å­˜å®Ÿè£…ã¨ä¸€è‡´ã™ã‚‹ã“ã¨

---

## å“è³ªã‚²ãƒ¼ãƒˆï¼ˆPhase 5ï¼‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] **Phase 3ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªãŒã™ã¹ã¦å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹** âœ…
  - 29å€‹ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã‚’100%å®Ÿè£…
  - Given-When-Thenå½¢å¼ã§è¨˜è¿°
  - ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªç•ªå·ã‚’è¨˜è¼‰

- [x] **ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œå¯èƒ½ã§ã‚ã‚‹** âœ…
  - pytestå½¢å¼ã§å®Ÿè£…
  - å¿…è¦ãªã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã‚’è¨˜è¼‰
  - ãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£ã®ä¾å­˜é–¢ä¿‚ã‚’è§£æ±º

- [x] **ãƒ†ã‚¹ãƒˆã®æ„å›³ãŒã‚³ãƒ¡ãƒ³ãƒˆã§æ˜ç¢º** âœ…
  - ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«docstringã‚’è¨˜è¼‰
  - Given-When-Thenã‚³ãƒ¡ãƒ³ãƒˆã§æ„å›³ã‚’æ˜ç¤º
  - ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªç•ªå·ã‚’è¨˜è¼‰

---

## å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹

### Phase 2-1ï¼ˆUrnProcessorï¼‰ã‹ã‚‰ã®å­¦ã³

- **æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³**:
  - è©³ç´°ãªãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã«åŸºã¥ãå®Ÿè£…
  - Given-When-Thenå½¢å¼ã®æ¡ç”¨
  - pytestãƒãƒ¼ã‚«ãƒ¼ã®ä½¿ç”¨
  - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ç¶²ç¾…çš„ãªãƒ†ã‚¹ãƒˆ

- **é©ç”¨ã—ãŸç‚¹**:
  - test_urn_processor.pyã¨åŒæ§˜ã®æ§‹é€ 
  - ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã«ã‚ˆã‚‹æ©Ÿèƒ½ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
  - ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªç•ªå·ã®è¨˜è¼‰

### ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ç‰¹å¾´

- **ç‹¬ç«‹æ€§**: å„ãƒ†ã‚¹ãƒˆã¯ç‹¬ç«‹ã—ã¦å®Ÿè¡Œå¯èƒ½
- **æ˜ç¢ºæ€§**: ãƒ†ã‚¹ãƒˆã®æ„å›³ãŒã‚³ãƒ¡ãƒ³ãƒˆã§æ˜ç¢º
- **ç¶²ç¾…æ€§**: æ­£å¸¸ç³»ã€ç•°å¸¸ç³»ã€ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚‚å®Ÿè£…

---

## Phase 5å®Œäº†å®£è¨€

Phase 5ï¼ˆtest_implementationï¼‰ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè£…ã‚’å®Œäº†ã—ã¾ã—ãŸã€‚

- âœ… test_node_label_generator.pyæ–°è¦ä½œæˆï¼ˆ40å€‹ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- âœ… conftest.pyã®æ›´æ–°ï¼ˆnode_label_generatorãƒ•ã‚£ã‚¯ã‚¹ãƒãƒ£è¿½åŠ ï¼‰
- âœ… Phase 3ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª100%å®Ÿè£…
- âœ… å“è³ªã‚²ãƒ¼ãƒˆï¼ˆPhase 5ï¼‰ã‚’æº€ãŸã™

**æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º**: Phase 6ï¼ˆtestingï¼‰ã«é€²ã¿ã€ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

---

## å‚è€ƒæƒ…å ±

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [test-scenario.md](../../03_test_scenario/output/test-scenario.md): Phase 3ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª
- [implementation.md](../../04_implementation/output/implementation.md): Phase 4ã®å®Ÿè£…ãƒ­ã‚°
- [design.md](../../02_design/output/design.md): Phase 2ã®è©³ç´°è¨­è¨ˆæ›¸
- [test_urn_processor.py](../../../../../jenkins/jobs/pipeline/infrastructure/pulumi-stack-action/tests/test_urn_processor.py): Phase 2-1ã®å‚è€ƒå®Ÿè£…

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/test_node_label_generator.py -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
pytest tests/test_node_label_generator.py --cov=node_label_generator --cov-report=term --cov-report=html

# ç‰¹å®šã®ãƒãƒ¼ã‚«ãƒ¼ã®ã¿å®Ÿè¡Œ
pytest -m unit tests/test_node_label_generator.py
pytest -m edge_case tests/test_node_label_generator.py
pytest -m performance tests/test_node_label_generator.py

# æ—¢å­˜ãƒ†ã‚¹ãƒˆã®ç¢ºèª
pytest tests/test_dot_processor.py -v
```

---

**ã“ã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè£…ãƒ­ã‚°ã¯ã€Phase 5ã®æˆæœç‰©ã§ã™ã€‚Phase 6ï¼ˆtestingï¼‰ã§å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã€çµæœã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚**
