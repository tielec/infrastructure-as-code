# ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª - Issue #464

## 0. ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªãƒ¡ã‚¿æƒ…å ±

**Issueç•ªå·**: #464
**ã‚¿ã‚¤ãƒˆãƒ«**: [Refactor] dot_processor.py - Phase 3: çµ±åˆã¨ãƒã‚¹ãƒˆè§£æ¶ˆ
**ä½œæˆæ—¥**: 2025å¹´01æœˆ
**Planning Document**: `.ai-workflow/issue-464/00_planning/output/planning.md`
**Requirements Document**: `.ai-workflow/issue-464/01_requirements/output/requirements.md`
**Design Document**: `.ai-workflow/issue-464/02_design/output/design.md`

---

## 1. ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã‚µãƒãƒªãƒ¼

### 1.1. é¸æŠã•ã‚ŒãŸãƒ†ã‚¹ãƒˆæˆ¦ç•¥

**ãƒ†ã‚¹ãƒˆæˆ¦ç•¥**: **UNIT_INTEGRATION**ï¼ˆPhase 2ã§æ±ºå®šï¼‰

**åˆ¤æ–­æ ¹æ‹ **:
1. **UNITï¼ˆå˜ä½“ãƒ†ã‚¹ãƒˆï¼‰ã®å¿…è¦æ€§**:
   - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã®æ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆ`_update_node_info()`, `_is_node_definition_line()`, `_is_edge_to_stack_line()`, `_detect_provider_colors()`ï¼‰ã®æ­£å¸¸æ€§ã‚’æ¤œè¨¼
   - æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³åŒ–ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã®å˜ä½“å‹•ä½œç¢ºèª
   - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆä¸æ­£URNã€é•·ã„ãƒªã‚½ãƒ¼ã‚¹åï¼‰ã®å˜ä½“ãƒ†ã‚¹ãƒˆ

2. **INTEGRATIONï¼ˆçµ±åˆãƒ†ã‚¹ãƒˆï¼‰ã®å¿…è¦æ€§**:
   - `DotFileProcessor` â†” `UrnProcessor` â†” `NodeLabelGenerator` â†” `ResourceDependencyBuilder`ã®å”èª¿å‹•ä½œç¢ºèª
   - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã®å…¨ä½“ãƒ•ãƒ­ãƒ¼ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼
   - **Characterization Testï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆï¼‰ã§å›å¸°ãªã—ã‚’ç¢ºèª**ï¼ˆæœ€é‡è¦ï¼‰

3. **BDDä¸è¦ã®ç†ç”±**:
   - ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ©Ÿèƒ½å¤‰æ›´ã§ã¯ãªãã€å†…éƒ¨æ§‹é€ æ”¹å–„ã®ãŸã‚
   - ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã¨ã®å¯¾å¿œã¯æ—¢å­˜ã®Characterization Testã§ä¿è¨¼æ¸ˆã¿

### 1.2. ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®ç¯„å›²

#### ä¸»è¦ãƒ†ã‚¹ãƒˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«
- **`src/dot_processor.py`**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã®ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆãƒã‚¹ãƒˆè§£æ¶ˆã€ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ï¼‰
- **çµ±åˆå¯¾è±¡ã‚¯ãƒ©ã‚¹**: `UrnProcessor`, `NodeLabelGenerator`, `ResourceDependencyBuilder`ï¼ˆPhase 2ä½œæˆæ¸ˆã¿ï¼‰

#### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- **`tests/test_dot_processor.py`**: æ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«çµ±åˆãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 

### 1.3. ãƒ†ã‚¹ãƒˆã®ç›®çš„

1. **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®æ­£å½“æ€§æ¤œè¨¼**:
   - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰å¾Œã§æŒ¯ã‚‹èˆã„ãŒå¤‰åŒ–ã—ã¦ã„ãªã„ã“ã¨ã‚’ä¿è¨¼ï¼ˆCharacterization Testå…¨ãƒ‘ã‚¹ï¼‰
   - Cyclomatic Complexity < 10ã‚’é”æˆã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

2. **æ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã®æ­£å¸¸æ€§æ¤œè¨¼**:
   - å˜ä½“ãƒ†ã‚¹ãƒˆã§å„ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
   - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã€å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆã§å …ç‰¢æ€§ã‚’æ¤œè¨¼

3. **çµ±åˆå‹•ä½œã®æ¤œè¨¼**:
   - Phase 2ã‚¯ãƒ©ã‚¹ã¨ã®å”èª¿å‹•ä½œç¢ºèª
   - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã®å…¨ä½“ãƒ•ãƒ­ãƒ¼ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼

---

## 2. Unitãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

### 2.1. `_update_node_info()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆï¼ˆæ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰

#### TC-U-01: æ­£å¸¸ç³» - node_urn_mapæ›´æ–°

**ç›®çš„**: `node_urn_map`ãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `node_info`ã«URNãƒãƒƒãƒ”ãƒ³ã‚°æƒ…å ±ãŒå«ã¾ã‚Œã‚‹
- `stack_node_id`ã¯`None`

**å…¥åŠ›**:
```python
node_info = {
    'node_urn_map': {'node1': {'provider': 'aws', 'type': 'Bucket', 'name': 'my-bucket'}},
    'stack_node_id': None
}
node_urn_map = {}
stack_node_id = None
```

**æœŸå¾…çµæœ**:
- `node_urn_map`ãŒ`{'node1': {'provider': 'aws', 'type': 'Bucket', 'name': 'my-bucket'}}`ã«æ›´æ–°ã•ã‚Œã‚‹
- `stack_node_id`ã¯`None`ã®ã¾ã¾ï¼ˆæˆ»ã‚Šå€¤ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜input

---

#### TC-U-02: æ­£å¸¸ç³» - stack_node_idæ›´æ–°

**ç›®çš„**: `stack_node_id`ãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `node_info`ã«`stack_node_id`ãŒå«ã¾ã‚Œã‚‹

**å…¥åŠ›**:
```python
node_info = {
    'node_urn_map': {'stack_node': {'provider': 'pulumi', 'type': 'Stack'}},
    'stack_node_id': 'stack_node'
}
node_urn_map = {}
stack_node_id = None
```

**æœŸå¾…çµæœ**:
- `node_urn_map`ãŒæ›´æ–°ã•ã‚Œã‚‹
- `stack_node_id`ãŒ`'stack_node'`ã«æ›´æ–°ã•ã‚Œã‚‹ï¼ˆæˆ»ã‚Šå€¤ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜input

---

#### TC-U-03: ç•°å¸¸ç³» - ç©ºã®node_info

**ç›®çš„**: ç©ºã®`node_info`ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `node_info`ãŒç©ºè¾æ›¸ `{}`

**å…¥åŠ›**:
```python
node_info = {}
node_urn_map = {}
stack_node_id = None
```

**æœŸå¾…çµæœ**:
- `node_urn_map`ã¯ç©ºã®ã¾ã¾
- `stack_node_id`ã¯`None`ã®ã¾ã¾ï¼ˆæˆ»ã‚Šå€¤ï¼‰
- **ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„**

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜input

---

#### TC-U-04: å¢ƒç•Œå€¤ - stack_node_idãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆ

**ç›®çš„**: æ—¢å­˜ã®`stack_node_id`ãŒæ–°ã—ã„å€¤ã§ä¸Šæ›¸ãã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `stack_node_id`ãŒæ—¢ã«`'old_stack'`

**å…¥åŠ›**:
```python
node_info = {
    'node_urn_map': {},
    'stack_node_id': 'new_stack'
}
node_urn_map = {}
stack_node_id = 'old_stack'
```

**æœŸå¾…çµæœ**:
- `stack_node_id`ãŒ`'new_stack'`ã«ä¸Šæ›¸ãã•ã‚Œã‚‹ï¼ˆæˆ»ã‚Šå€¤ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜input

---

### 2.2. `_is_node_definition_line()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆï¼ˆæ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰

#### TC-U-05: æ­£å¸¸ç³» - ãƒãƒ¼ãƒ‰å®šç¾©è¡Œï¼ˆURNãƒ©ãƒ™ãƒ«ï¼‰

**ç›®çš„**: URNãƒ©ãƒ™ãƒ«ã‚’æŒã¤ãƒãƒ¼ãƒ‰å®šç¾©è¡ŒãŒæ­£ã—ãåˆ¤å®šã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1 [label="urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket"];'
```

**æœŸå¾…çµæœ**:
- `True`ãŒè¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line

---

#### TC-U-06: ç•°å¸¸ç³» - ã‚³ãƒ¡ãƒ³ãƒˆè¡Œ

**ç›®çš„**: ã‚³ãƒ¡ãƒ³ãƒˆè¡ŒãŒ`False`ã¨åˆ¤å®šã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    // node1 [label="urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket"];'
```

**æœŸå¾…çµæœ**:
- `False`ãŒè¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line

---

#### TC-U-07: ç•°å¸¸ç³» - ã‚¨ãƒƒã‚¸å®šç¾©è¡Œ

**ç›®çš„**: ã‚¨ãƒƒã‚¸å®šç¾©è¡ŒãŒ`False`ã¨åˆ¤å®šã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1 -> node2;'
```

**æœŸå¾…çµæœ**:
- `False`ãŒè¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line

---

#### TC-U-08: å¢ƒç•Œå€¤ - URNãƒ©ãƒ™ãƒ«ãªã—ã®ãƒãƒ¼ãƒ‰å®šç¾©

**ç›®çš„**: URNãƒ©ãƒ™ãƒ«ã‚’æŒãŸãªã„ãƒãƒ¼ãƒ‰å®šç¾©è¡ŒãŒ`False`ã¨åˆ¤å®šã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1 [label="non-urn-label"];'
```

**æœŸå¾…çµæœ**:
- `False`ãŒè¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line

---

### 2.3. `_is_edge_to_stack_line()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆï¼ˆæ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰

#### TC-U-09: æ­£å¸¸ç³» - ã‚¹ã‚¿ãƒƒã‚¯ã¸ã®ã‚¨ãƒƒã‚¸è¡Œ

**ç›®çš„**: ã‚¹ã‚¿ãƒƒã‚¯ã¸ã®ã‚¨ãƒƒã‚¸è¡ŒãŒæ­£ã—ãåˆ¤å®šã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `stack_node_id`ãŒ`'stack_node'`

**å…¥åŠ›**:
```python
line = '    node1 -> stack_node;'
stack_node_id = 'stack_node'
```

**æœŸå¾…çµæœ**:
- `True`ãŒè¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line, stack_node_id

---

#### TC-U-10: ç•°å¸¸ç³» - stack_node_idãŒNone

**ç›®çš„**: `stack_node_id`ãŒ`None`ã®å ´åˆã€`False`ãŒè¿”ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1 -> node2;'
stack_node_id = None
```

**æœŸå¾…çµæœ**:
- `False`ãŒè¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line, stack_node_id

---

#### TC-U-11: ç•°å¸¸ç³» - åˆ¥ãƒãƒ¼ãƒ‰ã¸ã®ã‚¨ãƒƒã‚¸

**ç›®çš„**: ã‚¹ã‚¿ãƒƒã‚¯ä»¥å¤–ã®ãƒãƒ¼ãƒ‰ã¸ã®ã‚¨ãƒƒã‚¸ãŒ`False`ã¨åˆ¤å®šã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `stack_node_id`ãŒ`'stack_node'`

**å…¥åŠ›**:
```python
line = '    node1 -> node2;'
stack_node_id = 'stack_node'
```

**æœŸå¾…çµæœ**:
- `False`ãŒè¿”ã•ã‚Œã‚‹ï¼ˆ`node2`ã¯ã‚¹ã‚¿ãƒƒã‚¯ã§ã¯ãªã„ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line, stack_node_id

---

#### TC-U-12: å¢ƒç•Œå€¤ - ã‚¨ãƒƒã‚¸è¨˜å·ãªã—

**ç›®çš„**: ã‚¨ãƒƒã‚¸è¨˜å·`->`ã‚’å«ã¾ãªã„è¡ŒãŒ`False`ã¨åˆ¤å®šã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `stack_node_id`ãŒ`'stack_node'`

**å…¥åŠ›**:
```python
line = '    node1 [label="test"];'
stack_node_id = 'stack_node'
```

**æœŸå¾…çµæœ**:
- `False`ãŒè¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line, stack_node_id

---

### 2.4. `_detect_provider_colors()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆï¼ˆæ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰

#### TC-U-13: æ­£å¸¸ç³» - AWSãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ¤œå‡º

**ç›®çš„**: AWSãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®è‰²è¨­å®šãŒæ­£ã—ãæ¤œå‡ºã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
full_name = 'urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket'
short_name = 'my-bucket'
```

**æœŸå¾…çµæœ**:
- `('#FFF3E0', '#EF6C00', 'my-bucket')` ãŒè¿”ã•ã‚Œã‚‹ï¼ˆAWSè‰²è¨­å®šï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜full_name, short_name

---

#### TC-U-14: æ­£å¸¸ç³» - Azureãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æ¤œå‡º

**ç›®çš„**: Azureãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®è‰²è¨­å®šãŒæ­£ã—ãæ¤œå‡ºã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
full_name = 'urn:pulumi:dev::myproject::azure:storage/storageAccount:StorageAccount::mystorage'
short_name = 'mystorage'
```

**æœŸå¾…çµæœ**:
- `('#E3F2FD', '#0078D4', 'mystorage')` ãŒè¿”ã•ã‚Œã‚‹ï¼ˆAzureè‰²è¨­å®šï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜full_name, short_name

---

#### TC-U-15: ç•°å¸¸ç³» - æœªå®šç¾©ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼

**ç›®çš„**: æœªå®šç¾©ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ãŒè¿”ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
full_name = 'urn:pulumi:dev::myproject::unknown:resource:Resource::my-resource'
short_name = 'my-resource'
```

**æœŸå¾…çµæœ**:
- `('#E3F2FD', '#1565C0', 'my-resource')` ãŒè¿”ã•ã‚Œã‚‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜full_name, short_name

---

#### TC-U-16: æ­£å¸¸ç³» - ãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—æŠ½å‡º

**ç›®çš„**: ãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—ãŒæŠ½å‡ºã•ã‚Œã€`short_name`ã«è¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
full_name = 'pulumi::dev::myproject::aws:ec2/instance:Instance::my-instance'
short_name = 'my-instance'
```

**æœŸå¾…çµæœ**:
- `('#FFF3E0', '#EF6C00', 'instance\\nmy-instance')` ãŒè¿”ã•ã‚Œã‚‹ï¼ˆãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—`instance`ãŒè¿½åŠ ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜full_name, short_name

---

#### TC-U-17: å¢ƒç•Œå€¤ - ç©ºã®full_name

**ç›®çš„**: ç©ºã®`full_name`ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
full_name = ''
short_name = 'test'
```

**æœŸå¾…çµæœ**:
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ãŒè¿”ã•ã‚Œã‚‹
- `short_name`ã¯ãã®ã¾ã¾

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜full_name, short_name

---

### 2.5. `_enhance_pulumi_graph()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œï¼‰

#### TC-U-18: æ­£å¸¸ç³» - æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ï¼ˆcontinueï¼‰ã®ç¢ºèª

**ç›®çš„**: ãƒ˜ãƒƒãƒ€ãƒ¼è¡ŒãŒ`continue`ã§æ—©æœŸå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
dot_content = """strict digraph G {
    node1 [label="urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket"];
}"""
```

**æœŸå¾…çµæœ**:
- ãƒ˜ãƒƒãƒ€ãƒ¼è¡ŒãŒæœ€åˆã«å‡¦ç†ã•ã‚Œã€`continue`ã§æ¬¡ã®è¡Œã¸ç§»å‹•
- `node1`ã®ãƒãƒ¼ãƒ‰å®šç¾©ãŒå‡¦ç†ã•ã‚Œã‚‹
- **Cyclomatic Complexity â‰¤ 4**ï¼ˆè¨­è¨ˆæ›¸ã®ç›®æ¨™å€¤ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜dot_content

---

#### TC-U-19: ç•°å¸¸ç³» - ç©ºã®DOTæ–‡å­—åˆ—

**ç›®çš„**: ç©ºã®DOTæ–‡å­—åˆ—ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
dot_content = ""
```

**æœŸå¾…çµæœ**:
- ç©ºæ–‡å­—åˆ—ãŒè¿”ã•ã‚Œã‚‹
- **ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„**

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜dot_content

---

#### TC-U-20: å¢ƒç•Œå€¤ - ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®ã¿

**ç›®çš„**: ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã®ã¿ã®DOTæ–‡å­—åˆ—ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
dot_content = "strict digraph G {"
```

**æœŸå¾…çµæœ**:
- ãƒ˜ãƒƒãƒ€ãƒ¼è¡ŒãŒå‡¦ç†ã•ã‚Œã‚‹
- ã‚°ãƒ©ãƒ•å±æ€§è¡ŒãŒè¿½åŠ ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜dot_content

---

### 2.6. `_process_graph_line()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œï¼‰

#### TC-U-21: æ­£å¸¸ç³» - ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ç¢ºèª

**ç›®çš„**: `_is_node_definition_line()`ãŒæ­£ã—ãå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1 [label="urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket"];'
node_urn_map = {}
stack_node_id = None
```

**æœŸå¾…çµæœ**:
- `_is_node_definition_line()`ãŒå‘¼ã³å‡ºã•ã‚Œã€`True`ã‚’è¿”ã™
- `_process_node_definition()`ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹
- **Cyclomatic Complexity â‰¤ 2**ï¼ˆè¨­è¨ˆæ›¸ã®ç›®æ¨™å€¤ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line, node_urn_map, stack_node_id

---

#### TC-U-22: æ­£å¸¸ç³» - ã‚¨ãƒƒã‚¸è¡Œã®å‡¦ç†

**ç›®çš„**: `_is_edge_to_stack_line()`ãŒæ­£ã—ãå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- `stack_node_id`ãŒ`'stack_node'`

**å…¥åŠ›**:
```python
line = '    node1 -> stack_node;'
node_urn_map = {}
stack_node_id = 'stack_node'
```

**æœŸå¾…çµæœ**:
- `_is_edge_to_stack_line()`ãŒå‘¼ã³å‡ºã•ã‚Œã€`True`ã‚’è¿”ã™
- `_process_edge_definition()`ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line, node_urn_map, stack_node_id

---

#### TC-U-23: ç•°å¸¸ç³» - ãã®ä»–ã®è¡Œï¼ˆæ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ï¼‰

**ç›®çš„**: ãã®ä»–ã®è¡ŒãŒæ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    graph [rankdir=TB];'
node_urn_map = {}
stack_node_id = None
```

**æœŸå¾…çµæœ**:
- `(line, None)` ãŒè¿”ã•ã‚Œã‚‹ï¼ˆãã®ã¾ã¾ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line, node_urn_map, stack_node_id

---

### 2.7. `_process_single_node()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œï¼‰

#### TC-U-24: æ­£å¸¸ç³» - ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ç¢ºèª

**ç›®çš„**: `_detect_provider_colors()`ãŒæ­£ã—ãå‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1 [label="urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket"];'
```

**æœŸå¾…çµæœ**:
- `_detect_provider_colors()`ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹
- AWSè‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹
- **Cyclomatic Complexity â‰¤ 3**ï¼ˆè¨­è¨ˆæ›¸ã®ç›®æ¨™å€¤ï¼‰

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line

---

#### TC-U-25: ç•°å¸¸ç³» - ãƒ©ãƒ™ãƒ«ãªã—

**ç›®çš„**: ãƒ©ãƒ™ãƒ«ã‚’æŒãŸãªã„è¡ŒãŒæ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1;'
```

**æœŸå¾…çµæœ**:
- å…ƒã®è¡ŒãŒãã®ã¾ã¾è¿”ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line

---

#### TC-U-26: å¢ƒç•Œå€¤ - é•·ã„ãƒ©ãƒ™ãƒ«ï¼ˆ30æ–‡å­—ä»¥ä¸Šï¼‰

**ç›®çš„**: é•·ã„ãƒ©ãƒ™ãƒ«ãŒçœç•¥ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**å…¥åŠ›**:
```python
line = '    node1 [label="' + 'a' * 50 + '"];'
```

**æœŸå¾…çµæœ**:
- ãƒ©ãƒ™ãƒ«ãŒ27æ–‡å­— + `...` ã«çœç•¥ã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ä¸Šè¨˜line

---

## 3. Integrationãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

### 3.1. DotFileProcessor â†” UrnProcessor â†” NodeLabelGeneratorçµ±åˆãƒ†ã‚¹ãƒˆ

#### TC-I-01: æ­£å¸¸ç³» - apply_graph_styling()ã§ã®UrnProcessoré€£æº

**ã‚·ãƒŠãƒªã‚ªå**: Pulumiç”Ÿæˆã‚°ãƒ©ãƒ•ã®URNè§£æã¨ãƒ©ãƒ™ãƒ«ç”Ÿæˆ

**ç›®çš„**: `apply_graph_styling()`ãŒ`UrnProcessor`ã¨`NodeLabelGenerator`ã‚’æ­£ã—ãå‘¼ã³å‡ºã—ã€URNãŒè§£æã•ã‚Œã¦ãƒ©ãƒ™ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- Phase 2ã§ä½œæˆã•ã‚ŒãŸ`UrnProcessor`, `NodeLabelGenerator`ãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã‚‹

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. Pulumiç”Ÿæˆã®DOTæ–‡å­—åˆ—ï¼ˆURNå«ã‚€ï¼‰ã‚’æº–å‚™
2. `DotFileProcessor.apply_graph_styling(dot_content)`ã‚’å‘¼ã³å‡ºã™
3. çµæœã®DOTæ–‡å­—åˆ—ã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- URNãŒ`UrnProcessor.parse_urn()`ã§è§£æã•ã‚Œã‚‹
- `NodeLabelGenerator.generate_node_label()`ã§èª­ã¿ã‚„ã™ã„ãƒ©ãƒ™ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹
- çµæœã®DOTæ–‡å­—åˆ—ã«`label=`, `fillcolor=`ãŒå«ã¾ã‚Œã‚‹

**ç¢ºèªé …ç›®**:
- [ ] URNãŒæ­£ã—ãè§£æã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒãƒ¼ãƒ‰ãƒ©ãƒ™ãƒ«ãŒæ”¹è¡ŒåŒºåˆ‡ã‚Šï¼ˆ`\n`ï¼‰ã§ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ¥è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹
- [ ] æ—¢å­˜ã®Characterization TestãŒãƒ‘ã‚¹ã™ã‚‹

---

#### TC-I-02: æ­£å¸¸ç³» - è¤‡æ•°ãƒãƒ¼ãƒ‰ã®å‡¦ç†

**ã‚·ãƒŠãƒªã‚ªå**: è¤‡æ•°ãƒãƒ¼ãƒ‰ã®URNè§£æã¨ãƒ©ãƒ™ãƒ«ç”Ÿæˆ

**ç›®çš„**: è¤‡æ•°ã®ãƒãƒ¼ãƒ‰å®šç¾©è¡ŒãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- Pulumiç”Ÿæˆã®DOTæ–‡å­—åˆ—ã«è¤‡æ•°ã®ãƒãƒ¼ãƒ‰å®šç¾©ãŒå«ã¾ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. è¤‡æ•°ãƒãƒ¼ãƒ‰å®šç¾©ã‚’å«ã‚€DOTæ–‡å­—åˆ—ã‚’æº–å‚™
2. `DotFileProcessor.apply_graph_styling(dot_content)`ã‚’å‘¼ã³å‡ºã™
3. å„ãƒãƒ¼ãƒ‰ã®ãƒ©ãƒ™ãƒ«ã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹
- å„ãƒãƒ¼ãƒ‰ã®URNãŒè§£æã•ã‚Œã‚‹
- å„ãƒãƒ¼ãƒ‰ã«ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ¥è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹

**ç¢ºèªé …ç›®**:
- [ ] ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ãƒ©ãƒ™ãƒ«ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒãƒ¼ãƒ‰é–“ã®ä¾å­˜é–¢ä¿‚ãŒç¶­æŒã•ã‚Œã¦ã„ã‚‹
- [ ] ã‚¹ã‚¿ãƒƒã‚¯ãƒãƒ¼ãƒ‰ãŒæ­£ã—ãè­˜åˆ¥ã•ã‚Œã‚‹

---

#### TC-I-03: ç•°å¸¸ç³» - ä¸æ­£ãªURN

**ã‚·ãƒŠãƒªã‚ªå**: ä¸æ­£ãªURNã®å®‰å…¨ãªå‡¦ç†

**ç›®çš„**: ä¸æ­£ãªURNãŒå«ã¾ã‚Œã‚‹å ´åˆã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã›ãšã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§å‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. ä¸æ­£ãªURNï¼ˆåŒºåˆ‡ã‚Šæ–‡å­—ãªã—ï¼‰ã‚’å«ã‚€DOTæ–‡å­—åˆ—ã‚’æº–å‚™
2. `DotFileProcessor.apply_graph_styling(dot_content)`ã‚’å‘¼ã³å‡ºã™
3. çµæœã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- **ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„**
- `UrnProcessor.parse_urn()`ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¿”ã™
- `NodeLabelGenerator`ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ©ãƒ™ãƒ«ã‚’ç”Ÿæˆ

**ç¢ºèªé …ç›®**:
- [ ] ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹
- [ ] ãƒ©ãƒ™ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹

---

#### TC-I-04: å¢ƒç•Œå€¤ - æ¥µç«¯ã«é•·ã„ãƒªã‚½ãƒ¼ã‚¹å

**ã‚·ãƒŠãƒªã‚ªå**: æ¥µç«¯ã«é•·ã„ãƒªã‚½ãƒ¼ã‚¹åï¼ˆ100æ–‡å­—ä»¥ä¸Šï¼‰ã®å‡¦ç†

**ç›®çš„**: æ¥µç«¯ã«é•·ã„ãƒªã‚½ãƒ¼ã‚¹åã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã›ãšã€çœç•¥è¨˜å·ä»˜ãã§å‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. 100æ–‡å­—ä»¥ä¸Šã®ãƒªã‚½ãƒ¼ã‚¹åã‚’å«ã‚€URNã‚’æº–å‚™
2. `DotFileProcessor.apply_graph_styling(dot_content)`ã‚’å‘¼ã³å‡ºã™
3. çµæœã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- ãƒ©ãƒ™ãƒ«ãŒçœç•¥è¨˜å·ï¼ˆ`...`ï¼‰ä»˜ãã§ç”Ÿæˆã•ã‚Œã‚‹

**ç¢ºèªé …ç›®**:
- [ ] ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- [ ] çœç•¥è¨˜å·ãŒå«ã¾ã‚Œã‚‹
- [ ] ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è‰²è¨­å®šãŒé©ç”¨ã•ã‚Œã‚‹

---

### 3.2. DotFileGenerator â†” ResourceDependencyBuilderçµ±åˆãƒ†ã‚¹ãƒˆ

#### TC-I-05: æ­£å¸¸ç³» - ãƒªã‚½ãƒ¼ã‚¹ä¾å­˜é–¢ä¿‚ã®ç”Ÿæˆ

**ã‚·ãƒŠãƒªã‚ªå**: ResourceDependencyBuilderã¨ã®å”èª¿å‹•ä½œ

**ç›®çš„**: `DotFileGenerator.create_dot_file()`ãŒ`ResourceDependencyBuilder`ã‚’æ­£ã—ãå‘¼ã³å‡ºã—ã€ä¾å­˜é–¢ä¿‚ã‚¨ãƒƒã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**:
- Phase 2ã§ä½œæˆã•ã‚ŒãŸ`ResourceDependencyBuilder`ãŒæ­£ã—ãå‹•ä½œã—ã¦ã„ã‚‹

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. ä¾å­˜é–¢ä¿‚ã‚’æŒã¤ãƒªã‚½ãƒ¼ã‚¹ãƒªã‚¹ãƒˆã‚’æº–å‚™
2. `DotFileGenerator.create_dot_file(stack_name, resources, resource_providers)`ã‚’å‘¼ã³å‡ºã™
3. çµæœã®DOTæ–‡å­—åˆ—ãƒªã‚¹ãƒˆã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- `ResourceDependencyBuilder.add_resource_dependencies()`ãŒå‘¼ã³å‡ºã•ã‚Œã‚‹
- ä¾å­˜é–¢ä¿‚ã‚¨ãƒƒã‚¸ï¼ˆ`resource_1 -> resource_0`ï¼‰ãŒç”Ÿæˆã•ã‚Œã‚‹
- ã‚¨ãƒƒã‚¸ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆ`DIRECT_DEPENDENCY_STYLE`ç­‰ï¼‰ãŒé©ç”¨ã•ã‚Œã‚‹

**ç¢ºèªé …ç›®**:
- [ ] ä¾å­˜é–¢ä¿‚ã‚¨ãƒƒã‚¸ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹
- [ ] ã‚¨ãƒƒã‚¸ã‚¹ã‚¿ã‚¤ãƒ«ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹
- [ ] è¦ªä¾å­˜ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ä¾å­˜ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã¦ã„ã‚‹

---

#### TC-I-06: ç•°å¸¸ç³» - å¾ªç’°ä¾å­˜

**ã‚·ãƒŠãƒªã‚ªå**: å¾ªç’°ä¾å­˜ã®å®‰å…¨ãªå‡¦ç†

**ç›®çš„**: å¾ªç’°ä¾å­˜ãŒå«ã¾ã‚Œã‚‹å ´åˆã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ã‚’æ¤œè¨¼

**å‰ææ¡ä»¶**: ãªã—

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. å¾ªç’°ä¾å­˜ã‚’æŒã¤ãƒªã‚½ãƒ¼ã‚¹ãƒªã‚¹ãƒˆã‚’æº–å‚™ï¼ˆA â†’ B, B â†’ Aï¼‰
2. `DotFileGenerator.create_dot_file(stack_name, resources, resource_providers)`ã‚’å‘¼ã³å‡ºã™
3. çµæœã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- **ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„**
- ä¸¡æ–¹ã®ä¾å­˜é–¢ä¿‚ã‚¨ãƒƒã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹

**ç¢ºèªé …ç›®**:
- [ ] ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
- [ ] ä¸¡æ–¹ã®ã‚¨ãƒƒã‚¸ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹
- [ ] DOTå½¢å¼ãŒæœ‰åŠ¹ã§ã‚ã‚‹

---

### 3.3. Characterization Testï¼ˆå›å¸°ãƒ†ã‚¹ãƒˆï¼‰

#### TC-I-07: å›å¸°ç¢ºèª - å…¨Characterization TestãŒãƒ‘ã‚¹

**ã‚·ãƒŠãƒªã‚ªå**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰å¾Œã®æŒ¯ã‚‹èˆã„ä¸€è‡´ç¢ºèª

**ç›®çš„**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã€æ—¢å­˜ã®Characterization TestãŒå…¨ãƒ‘ã‚¹ã™ã‚‹ã“ã¨ã‚’æ¤œè¨¼ï¼ˆ**æœ€é‡è¦**ï¼‰

**å‰ææ¡ä»¶**:
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰ã«å…¨Characterization TestãŒãƒ‘ã‚¹ã—ã¦ã„ã‚‹

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã®ã‚³ãƒ¼ãƒ‰ã§å…¨Characterization Testã‚’å®Ÿè¡Œ
   ```bash
   pytest tests/test_dot_processor.py -m characterization -v
   ```
2. ãƒ†ã‚¹ãƒˆçµæœã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- **å…¨Characterization TestãŒãƒ‘ã‚¹**
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰å¾Œã§æŒ¯ã‚‹èˆã„ã«å¤‰åŒ–ãŒãªã„

**ç¢ºèªé …ç›®**:
- [ ] ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestDotFileGeneratorEscaping`ï¼‰å…¨ãƒ‘ã‚¹
- [ ] DOTãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestDotFileGeneratorCreation`ï¼‰å…¨ãƒ‘ã‚¹
- [ ] URNè§£æã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestDotFileProcessorUrnParsing`ï¼‰å…¨ãƒ‘ã‚¹
- [ ] ã‚°ãƒ©ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestDotFileProcessorGraphStyling`ï¼‰å…¨ãƒ‘ã‚¹
- [ ] ã‚°ãƒ©ãƒ•æ¤œè¨¼ã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestDotFileProcessorGraphValidation`ï¼‰å…¨ãƒ‘ã‚¹
- [ ] ãƒ©ãƒ™ãƒ«ç”Ÿæˆã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestDotFileProcessorLabelCreation`ï¼‰å…¨ãƒ‘ã‚¹
- [ ] ãƒªã‚½ãƒ¼ã‚¹è­˜åˆ¥ã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestDotFileProcessorResourceIdentification`ï¼‰å…¨ãƒ‘ã‚¹
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆï¼ˆ`TestEdgeCases`ï¼‰å…¨ãƒ‘ã‚¹

---

#### TC-I-08: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ - 20ãƒªã‚½ãƒ¼ã‚¹å‡¦ç†æ™‚é–“

**ã‚·ãƒŠãƒªã‚ªå**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰å¾Œã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ

**ç›®çš„**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã€å‡¦ç†æ™‚é–“ãŒÂ±10%ä»¥å†…ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

**å‰ææ¡ä»¶**:
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰ã®å‡¦ç†æ™‚é–“ã‚’ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã¨ã—ã¦è¨˜éŒ²æ¸ˆã¿

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. 20å€‹ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æŒã¤ãƒªã‚½ãƒ¼ã‚¹ãƒªã‚¹ãƒˆã‚’æº–å‚™
2. å‡¦ç†æ™‚é–“ã‚’æ¸¬å®šï¼ˆ`time`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä½¿ç”¨ï¼‰
3. ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã¨æ¯”è¼ƒ

**æœŸå¾…çµæœ**:
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰å¾Œã§å‡¦ç†æ™‚é–“ã®å·®ãŒÂ±10%ä»¥å†…
- å‡¦ç†æ™‚é–“ãŒ1ç§’ä»¥å†…

**ç¢ºèªé …ç›®**:
- [ ] å‡¦ç†æ™‚é–“ãŒ1ç§’ä»¥å†…
- [ ] ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã¨ã®å·®ãŒÂ±10%ä»¥å†…
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ãŒãªã„

---

### 3.4. Cyclomatic Complexityæ¸¬å®šãƒ†ã‚¹ãƒˆ

#### TC-I-09: Cyclomatic Complexityæ¸¬å®š

**ã‚·ãƒŠãƒªã‚ªå**: radonãƒ„ãƒ¼ãƒ«ã§ã®è¤‡é›‘åº¦æ¸¬å®š

**ç›®çš„**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã€å…¨ãƒ¡ã‚½ãƒƒãƒ‰ã®Cyclomatic ComplexityãŒ10æœªæº€ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

**å‰ææ¡ä»¶**:
- radonãƒ„ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼ˆ`pip install radon`ï¼‰

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
1. radonãƒ„ãƒ¼ãƒ«ã§Cyclomatic Complexityã‚’æ¸¬å®š
   ```bash
   radon cc jenkins/jobs/pipeline/infrastructure/pulumi-stack-action/src/dot_processor.py -s
   ```
2. å„ãƒ¡ã‚½ãƒƒãƒ‰ã®è¤‡é›‘åº¦ã‚’ç¢ºèª

**æœŸå¾…çµæœ**:
- **å…¨ãƒ¡ã‚½ãƒƒãƒ‰ã®Cyclomatic Complexity < 10**
- `_enhance_pulumi_graph()`: â‰¤ 4
- `_process_graph_line()`: â‰¤ 2
- `_process_single_node()`: â‰¤ 3
- æ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰: â‰¤ 3

**ç¢ºèªé …ç›®**:
- [ ] `_enhance_pulumi_graph()` â‰¤ 4
- [ ] `_update_node_info()` â‰¤ 2
- [ ] `_process_graph_line()` â‰¤ 2
- [ ] `_is_node_definition_line()` â‰¤ 2
- [ ] `_is_edge_to_stack_line()` â‰¤ 2
- [ ] `_process_single_node()` â‰¤ 3
- [ ] `_detect_provider_colors()` â‰¤ 3

---

## 4. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

### 4.1. æ­£å¸¸ãƒ‡ãƒ¼ã‚¿

#### ã‚µãƒ³ãƒ—ãƒ«URNï¼ˆæœ‰åŠ¹ï¼‰

```python
sample_urns = {
    'valid_aws_urn': 'urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket',
    'valid_azure_urn': 'urn:pulumi:dev::myproject::azure:storage/storageAccount:StorageAccount::mystorage',
    'valid_gcp_urn': 'urn:pulumi:dev::myproject::gcp:storage/bucket:Bucket::my-bucket',
    'valid_kubernetes_urn': 'urn:pulumi:dev::myproject::kubernetes:core/v1:Namespace::my-namespace',
    'stack_urn': 'urn:pulumi:dev::myproject::pulumi:pulumi:Stack::myproject-dev'
}
```

#### ã‚µãƒ³ãƒ—ãƒ«DOTæ–‡å­—åˆ—ï¼ˆPulumiç”Ÿæˆï¼‰

```python
sample_dot_strings = {
    'pulumi_generated_graph': """strict digraph G {
    node1 [label="urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket"];
    node2 [label="urn:pulumi:dev::myproject::pulumi:pulumi:Stack::myproject-dev"];
    node1 -> node2;
}""",
    'custom_generated_graph': """digraph G {
    node1 [label="aws::s3::Bucket::my-bucket"];
    node2 [label="Stack"];
}""",
    'empty_graph': 'digraph G {}',
    'minimal_graph': 'digraph G { }'  # 30æ–‡å­—æœªæº€
}
```

#### ã‚µãƒ³ãƒ—ãƒ«ãƒªã‚½ãƒ¼ã‚¹

```python
sample_resources = {
    'basic_resource': {
        'type': 'aws:s3/bucket:Bucket',
        'urn': 'urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket',
        'dependencies': [],
        'parent': None,
        'propertyDependencies': {}
    },
    'resource_with_dependencies': {
        'type': 'aws:s3/bucketObject:BucketObject',
        'urn': 'urn:pulumi:dev::myproject::aws:s3/bucketObject:BucketObject::my-object',
        'dependencies': ['urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::my-bucket'],
        'parent': None,
        'propertyDependencies': {}
    },
    'gcp_resource': {
        'type': 'gcp:storage/bucket:Bucket',
        'urn': 'urn:pulumi:dev::myproject::gcp:storage/bucket:Bucket::my-gcp-bucket',
        'dependencies': [],
        'parent': None,
        'propertyDependencies': {}
    }
}
```

### 4.2. ç•°å¸¸ãƒ‡ãƒ¼ã‚¿

#### ä¸æ­£ãªURN

```python
invalid_urns = {
    'invalid_urn_no_separator': 'invalid-urn',  # åŒºåˆ‡ã‚Šæ–‡å­—ãªã—
    'invalid_urn_partial': 'urn:pulumi:dev',  # éƒ¨åˆ†çš„ãªURN
    'empty_urn': '',  # ç©ºæ–‡å­—åˆ—
    'long_urn': 'urn:pulumi:dev::myproject::aws:s3/bucket:Bucket::' + 'a' * 100  # 100æ–‡å­—ã®ãƒªã‚½ãƒ¼ã‚¹å
}
```

#### ç‰¹æ®Šæ–‡å­—ã‚’å«ã‚€ãƒ‡ãƒ¼ã‚¿

```python
special_char_data = {
    'double_quotes': 'test "value" here',
    'backslash': 'test\\path',
    'newline': 'line1\nline2',
    'tab': 'col1\tcol2',
    'carriage_return': 'line1\r\nline2',
    'unicode': 'ãƒ†ã‚¹ãƒˆğŸš€ãƒ‡ãƒ¼ã‚¿'
}
```

### 4.3. å¢ƒç•Œå€¤ãƒ‡ãƒ¼ã‚¿

#### é•·ã„ãƒªã‚½ãƒ¼ã‚¹å

```python
boundary_data = {
    'long_resource_name_30': 'a' * 30,  # ã¡ã‚‡ã†ã©30æ–‡å­—
    'long_resource_name_31': 'a' * 31,  # 31æ–‡å­—ï¼ˆçœç•¥ã•ã‚Œã‚‹å¢ƒç•Œï¼‰
    'long_resource_name_50': 'a' * 50,  # 50æ–‡å­—
    'long_resource_name_100': 'a' * 100,  # 100æ–‡å­—
    'long_resource_name_1000': 'a' * 1000  # 1000æ–‡å­—
}
```

#### ãƒªã‚½ãƒ¼ã‚¹æ•°

```python
resource_counts = {
    '0_resources': [],  # 0å€‹
    '1_resource': [sample_resources['basic_resource']],  # 1å€‹
    '20_resources': [sample_resources['basic_resource']] * 20,  # ã¡ã‚‡ã†ã©20å€‹
    '21_resources': [sample_resources['basic_resource']] * 21,  # 21å€‹ï¼ˆæœ€åˆã®20å€‹ã®ã¿å‡¦ç†ï¼‰
    '25_resources': [sample_resources['basic_resource']] * 25  # 25å€‹
}
```

---

## 5. ãƒ†ã‚¹ãƒˆç’°å¢ƒè¦ä»¶

### 5.1. å¿…è¦ãªãƒ†ã‚¹ãƒˆç’°å¢ƒ

- **ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ**: Python 3.8ä»¥ä¸Š
- **CI/CDç’°å¢ƒ**: GitHub Actionsï¼ˆæ—¢å­˜ã®CI/CDç’°å¢ƒï¼‰

### 5.2. å¿…è¦ãªå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

- **ãªã—**: `dot_processor.py`ã¯å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ã—ãªã„

### 5.3. å¿…è¦ãªãƒ„ãƒ¼ãƒ«

- **pytest**: ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆ`pytest 6.0`ä»¥ä¸Šï¼‰
- **radon**: Cyclomatic Complexityæ¸¬å®šï¼ˆ`radon 5.0`ä»¥ä¸Šï¼‰
- **pytest-cov**: ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### 5.4. ãƒ¢ãƒƒã‚¯/ã‚¹ã‚¿ãƒ–ã®å¿…è¦æ€§

- **ä¸è¦**: `UrnProcessor`, `NodeLabelGenerator`, `ResourceDependencyBuilder`ã¯å®Ÿã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨
- **ç†ç”±**: Phase 2ã§ä½œæˆã•ã‚ŒãŸå®Ÿã‚¯ãƒ©ã‚¹ãŒæ—¢ã«ãƒ†ã‚¹ãƒˆæ¸ˆã¿ã§å‹•ä½œä¿è¨¼ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€çµ±åˆãƒ†ã‚¹ãƒˆã§ã¯å®Ÿã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹

---

## 6. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œè¨ˆç”»

### 6.1. å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
# æ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã®å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/test_dot_processor.py::TestDotProcessorHelperMethods -v
```

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…ç›´å¾Œ

**æœŸå¾…çµæœ**: å…¨ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹

---

### 6.2. çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
# çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/test_dot_processor.py::TestDotProcessorIntegration -v
```

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å˜ä½“ãƒ†ã‚¹ãƒˆå®Œäº†å¾Œ

**æœŸå¾…çµæœ**: å…¨çµ±åˆãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹

---

### 6.3. Characterization Testå®Ÿè¡Œï¼ˆå›å¸°ç¢ºèªï¼‰

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
# å…¨Characterization Testå®Ÿè¡Œ
pytest tests/test_dot_processor.py -m characterization -v
```

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: çµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†å¾Œ

**æœŸå¾…çµæœ**: **å…¨Characterization TestãŒãƒ‘ã‚¹**ï¼ˆæœ€é‡è¦ï¼‰

---

### 6.4. Cyclomatic Complexityæ¸¬å®š

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
# radonãƒ„ãƒ¼ãƒ«ã§Cyclomatic Complexityæ¸¬å®š
radon cc jenkins/jobs/pipeline/infrastructure/pulumi-stack-action/src/dot_processor.py -s
```

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…å®Œäº†å¾Œ

**æœŸå¾…çµæœ**: å…¨ãƒ¡ã‚½ãƒƒãƒ‰ã®Cyclomatic Complexity < 10

---

### 6.5. ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
# ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š
pytest tests/test_dot_processor.py --cov=jenkins/jobs/pipeline/infrastructure/pulumi-stack-action/src/dot_processor --cov-report=term-missing
```

**å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å…¨ãƒ†ã‚¹ãƒˆå®Œäº†å¾Œ

**æœŸå¾…çµæœ**: ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Š

---

## 7. å“è³ªã‚²ãƒ¼ãƒˆï¼ˆPhase 3ï¼‰

ã“ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã¯ä»¥ä¸‹ã®å“è³ªã‚²ãƒ¼ãƒˆã‚’æº€ãŸã—ã¦ã„ã¾ã™ï¼š

- [x] **Phase 2ã®æˆ¦ç•¥ã«æ²¿ã£ãŸãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã§ã‚ã‚‹**: UNIT_INTEGRATIONæˆ¦ç•¥ã«åŸºã¥ãã€å˜ä½“ãƒ†ã‚¹ãƒˆã¨çµ±åˆãƒ†ã‚¹ãƒˆã‚’ä½œæˆ
- [x] **ä¸»è¦ãªæ­£å¸¸ç³»ãŒã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã‚‹**:
  - æ–°è¦ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰ã®æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆï¼ˆTC-U-01, TC-U-02, TC-U-05, TC-U-09, TC-U-13, TC-U-14, TC-U-18, TC-U-21, TC-U-24ï¼‰
  - çµ±åˆãƒ†ã‚¹ãƒˆã®æ­£å¸¸ç³»ï¼ˆTC-I-01, TC-I-02, TC-I-05ï¼‰
  - Characterization Testå…¨ãƒ‘ã‚¹ï¼ˆTC-I-07ï¼‰
- [x] **ä¸»è¦ãªç•°å¸¸ç³»ãŒã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã‚‹**:
  - ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆï¼ˆTC-U-03, TC-U-06, TC-U-07, TC-U-10, TC-U-11, TC-U-15, TC-U-19, TC-U-25ï¼‰
  - çµ±åˆãƒ†ã‚¹ãƒˆã®ç•°å¸¸ç³»ï¼ˆTC-I-03, TC-I-06ï¼‰
- [x] **æœŸå¾…çµæœãŒæ˜ç¢ºã§ã‚ã‚‹**: å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã«å…·ä½“çš„ãªæœŸå¾…çµæœã‚’è¨˜è¼‰

---

## 8. æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

ã“ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã®ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†å¾Œã€ä»¥ä¸‹ã®é †åºã§ä½œæ¥­ã‚’é–‹å§‹ã—ã¾ã™ï¼š

1. **Phase 4ï¼ˆå®Ÿè£…ï¼‰**: ãƒã‚¹ãƒˆè§£æ¶ˆå®Ÿè£…ã€Cyclomatic Complexityå‰Šæ¸›
2. **Phase 5ï¼ˆãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰å®Ÿè£…ï¼‰**: æœ¬ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã«åŸºã¥ã„ã¦çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…
3. **Phase 6ï¼ˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼‰**: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€Cyclomatic Complexityæ¸¬å®š
4. **Phase 7ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰**: docstringæ›´æ–°ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å†…å®¹è¨˜éŒ²
5. **Phase 8ï¼ˆãƒ¬ãƒãƒ¼ãƒˆï¼‰**: Issueå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ

---

**ä½œæˆæ—¥**: 2025å¹´01æœˆ
**æœ€çµ‚æ›´æ–°**: 2025å¹´01æœˆ
