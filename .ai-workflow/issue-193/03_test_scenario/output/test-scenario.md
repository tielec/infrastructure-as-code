# テストシナリオ - Issue #193

**Issue**: [TASK] Lambda Teardown Pipeline用のforce_destroyパラメータのドキュメント化
**Issue URL**: https://github.com/tielec/infrastructure-as-code/issues/193
**作成日**: 2025年度
**Planning Document**: @planning.md を参照
**Requirements Document**: @requirements.md を参照
**Design Document**: @design.md を参照

---

## 0. Planning Document・要件定義書・設計書の確認

### Planning Documentの主要方針

- **実装戦略**: EXTEND（既存ファイルへの追記）
- **テスト戦略**: **UNIT_ONLY**（ドキュメント検証のみ）
- **複雑度**: 簡単（見積もり工数: 2~3時間）
- **リスク**: 低（ドキュメントのみの更新）

### 要件定義書の主要要件

- **FR-001**: Job DSLファイルへのパラメータコメント追加【高】
- **FR-002**: jenkins/README.mdへのジョブ使用方法追記【高】
- **FR-003**: ansible/README.mdへの実行例追記【高】
- **FR-004**: ドキュメント間の整合性確保【中】

### 設計書の主要設計

- **7.1**: Job DSLファイルへのコメント追加（115行目付近）
- **7.2**: jenkins/README.mdへのセクション追加（302行目以降）
- **7.3**: ansible/README.mdへのセクション追加（121-125行目）

---

## 1. テスト戦略サマリー

### 選択されたテスト戦略

**UNIT_ONLY**（Phase 2で決定）

### テスト対象の範囲

1. **Job DSLファイル**（`jenkins/jobs/dsl/infrastructure/infrastructure_ansible_playbook_executor_job.groovy`）
   - `ANSIBLE_EXTRA_VARS`パラメータのコメント内容

2. **jenkins/README.md**
   - Lambda Teardown Pipelineセクションの内容
   - パラメータ説明の正確性
   - 実行例の正確性

3. **ansible/README.md**
   - Lambda Teardown Pipeline実行例の内容
   - 注意事項の正確性

### テストの目的

**ドキュメント更新のみの変更であるため、実装テストは不要**です。以下の観点で「ドキュメントの品質」を検証します：

1. **正確性**: プレイブック実装（66-69行目）との整合性
2. **完全性**: すべての必須情報が記載されているか
3. **一貫性**: 3ファイル間で矛盾がないか
4. **可読性**: ユーザーが理解しやすいか
5. **正当性**: Markdown構文が正しいか

---

## 2. Unitテストシナリオ（ドキュメント検証）

### 2.1. Job DSLファイル検証テスト

#### テストケース UT-001: パラメータコメントの存在確認

- **目的**: `ANSIBLE_EXTRA_VARS`パラメータに`force_destroy`に関するコメントが追加されていることを検証
- **前提条件**: `infrastructure_ansible_playbook_executor_job.groovy`が修正されている
- **検証箇所**: 115行目付近の`stringParam('ANSIBLE_EXTRA_VARS', ...)`
- **検証項目**:
  - [ ] コメントに「Lambda Teardown Pipeline」という文言が含まれている
  - [ ] 「force_destroy=true」が必須であることが明記されている
  - [ ] 具体的な実行例（`env=dev force_destroy=true`）が記載されている
  - [ ] `destroy_ssm=true`との組み合わせ例が記載されている
  - [ ] jenkins/README.mdへの参照リンクが記載されている
- **期待結果**: すべての検証項目がクリアされている
- **テストデータ**: 設計書Section 7.1の変更後コード

**テスト手順**:
1. `jenkins/jobs/dsl/infrastructure/infrastructure_ansible_playbook_executor_job.groovy`を開く
2. 115行目付近の`ANSIBLE_EXTRA_VARS`パラメータ定義を確認
3. コメント内容を上記検証項目と照合

---

#### テストケース UT-002: コメントのGroovy構文確認

- **目的**: 追加したコメントがGroovyの構文として正しいことを検証
- **前提条件**: Job DSLファイルが修正されている
- **検証項目**:
  - [ ] 複数行文字列が正しく`'''`で囲まれている
  - [ ] エスケープが不要な文字が正しく記載されている
  - [ ] 既存のパラメータ定義構造を維持している
- **期待結果**: Groovy構文エラーが発生しない
- **テストデータ**: 設計書Section 7.1の変更後コード

**テスト手順**:
1. Job DSLファイルの構文を目視確認
2. （オプション）Jenkins上でJob DSL Seedジョブを実行し、構文エラーがないことを確認

---

### 2.2. jenkins/README.md検証テスト

#### テストケース UT-003: Lambda Teardown Pipelineセクションの存在確認

- **目的**: jenkins/README.mdに新規セクション「Lambda Teardown Pipeline」が追加されていることを検証
- **前提条件**: jenkins/README.mdが修正されている
- **検証箇所**: 「重要なジョブの詳細」セクション内（302行目以降）
- **検証項目**:
  - [ ] 見出し「#### Lambda Teardown Pipeline」が存在する
  - [ ] セクションが既存のジョブドキュメントと同じフォーマットである
  - [ ] 目的、パラメータ、削除対象リソース、実行例、注意事項がすべて記載されている
- **期待結果**: すべての検証項目がクリアされている
- **テストデータ**: 設計書Section 7.2の追加内容

**テスト手順**:
1. `jenkins/README.md`を開く
2. 「重要なジョブの詳細」セクションを確認
3. 「Lambda Teardown Pipeline」サブセクションの存在を確認

---

#### テストケース UT-004: パラメータ説明の正確性確認

- **目的**: `force_destroy`パラメータの説明が正確であることを検証
- **前提条件**: jenkins/README.mdが修正されている
- **検証項目**:
  - [ ] 「必須パラメータ（非対話モード）」として`force_destroy=true`が明記されている
  - [ ] 実行例に`env=dev force_destroy=true`が含まれている
  - [ ] `destroy_ssm=true`との組み合わせ例が含まれている
  - [ ] パラメータ名のスペルが正確（`force_destroy`、`destroy_ssm`）
- **期待結果**: プレイブック（66-69行目）の実装と完全に一致している
- **テストデータ**:
  - プレイブック: `ansible/playbooks/lambda/lambda_teardown_pipeline.yml` (66-69行目)
  - 設計書: Section 7.2の追加内容

**テスト手順**:
1. `jenkins/README.md`のパラメータ説明を確認
2. `ansible/playbooks/lambda/lambda_teardown_pipeline.yml`の66-69行目を開く
3. パラメータ名（`force_destroy`）が一致していることを確認
4. エラーメッセージ内の実行例と一致していることを確認

---

#### テストケース UT-005: 実行例の構文確認

- **目的**: 記載された実行例が正しいAnsible extra-vars構文であることを検証
- **前提条件**: jenkins/README.mdが修正されている
- **検証項目**:
  - [ ] 基本例: `env=dev force_destroy=true`が正しい形式
  - [ ] 拡張例: `env=dev force_destroy=true destroy_ssm=true`が正しい形式
  - [ ] キー=値の形式が正しい（スペース区切り）
  - [ ] ダブルクォートが不要な値には使用されていない
- **期待結果**: Ansibleに渡せる正しい構文である
- **テストデータ**: 設計書Section 7.2の実行例

**テスト手順**:
1. `jenkins/README.md`の実行例を確認
2. Ansible extra-vars構文（`key=value key2=value2`形式）と照合
3. （オプション）実際にAnsibleコマンドでパースできるか確認

---

#### テストケース UT-006: 注意事項の明確性確認

- **目的**: 注意事項が明確で誤解を招かないことを検証
- **前提条件**: jenkins/README.mdが修正されている
- **検証項目**:
  - [ ] 「⚠️」絵文字を使用して視覚的に強調されている
  - [ ] 「非対話モード（Jenkins/CI）では`force_destroy=true`が必須」が明記されている
  - [ ] 「削除は不可逆的」という警告が記載されている
  - [ ] 「本番環境への影響」について注意喚起がある
  - [ ] セーフガード機能について説明がある
- **期待結果**: ユーザーが誤操作しないように十分な注意喚起がされている
- **テストデータ**: 設計書Section 7.2の注意事項

**テスト手順**:
1. `jenkins/README.md`の注意事項セクションを確認
2. 上記検証項目が記載されているか確認
3. 文章が明確で誤解を招かないか確認

---

#### テストケース UT-007: Markdownレンダリング確認

- **目的**: jenkins/README.mdのMarkdown構文が正しく、GitHubで正しくレンダリングされることを検証
- **前提条件**: jenkins/README.mdが修正されている
- **検証項目**:
  - [ ] 見出しレベル（####）が正しい
  - [ ] コードブロック（```bash）が正しく開閉されている
  - [ ] 箇条書き（-）が正しく記載されている
  - [ ] 絵文字（⚠️、📌）が正しく表示される
  - [ ] インデントが適切である
- **期待結果**: GitHubプレビューで正しく表示される
- **テストデータ**: 設計書Section 7.2の追加内容

**テスト手順**:
1. `jenkins/README.md`のMarkdown構文を確認
2. （推奨）GitHub上でプレビュー表示して確認
3. （または）ローカルのMarkdownプレビューツールで確認

---

### 2.3. ansible/README.md検証テスト

#### テストケース UT-008: Lambda実行例の更新確認

- **目的**: ansible/README.mdのLambda Teardown Pipeline実行例が正しく更新されていることを検証
- **前提条件**: ansible/README.mdが修正されている
- **検証箇所**: 121-125行目（Lambda Functionsセクション）
- **検証項目**:
  - [ ] 「完全削除」の実行例に`force_destroy=true`が含まれている
  - [ ] 「【重要】」タグで注意喚起がされている
  - [ ] SSMパラメータ削除の例が追加されている
  - [ ] プレイブックパスが正確（`playbooks/lambda/lambda_teardown_pipeline.yml`）
- **期待結果**: すべての検証項目がクリアされている
- **テストデータ**: 設計書Section 7.3の変更後内容

**テスト手順**:
1. `ansible/README.md`を開く
2. Lambda Functionsセクション（121-125行目付近）を確認
3. 実行例に`force_destroy=true`が含まれているか確認

---

#### テストケース UT-009: コマンド構文の正確性確認

- **目的**: 記載されたansible-playbookコマンドが正しい構文であることを検証
- **前提条件**: ansible/README.mdが修正されている
- **検証項目**:
  - [ ] `ansible-playbook`コマンドの基本構文が正しい
  - [ ] プレイブックパスが正確（`playbooks/lambda/lambda_teardown_pipeline.yml`）
  - [ ] `-e`オプションが正しく使用されている
  - [ ] extra-varsの形式が正しい（`"env=dev force_destroy=true"`）
- **期待結果**: 実際に実行可能なコマンドである
- **テストデータ**: 設計書Section 7.3の変更後内容

**テスト手順**:
1. `ansible/README.md`のコマンド例を確認
2. Ansibleコマンドライン構文と照合
3. （オプション）ドライラン（`--check`）で構文エラーがないか確認

---

#### テストケース UT-010: 注意書きの追加確認

- **目的**: 非対話モードでの必須要件が注意書きとして追加されていることを検証
- **前提条件**: ansible/README.mdが修正されている
- **検証項目**:
  - [ ] 「注意」セクションが追加されている
  - [ ] 「非対話モード（CI/Jenkins）では`force_destroy=true`が必須」と明記されている
  - [ ] セーフガード機能について説明がある
  - [ ] プレイブック（66-69行目）への参照がある
- **期待結果**: ユーザーが事前に要件を理解できる
- **テストデータ**: 設計書Section 7.3の変更後内容

**テスト手順**:
1. `ansible/README.md`の注意書きセクションを確認
2. 上記検証項目が記載されているか確認

---

#### テストケース UT-011: Markdownレンダリング確認

- **目的**: ansible/README.mdのMarkdown構文が正しく、GitHubで正しくレンダリングされることを検証
- **前提条件**: ansible/README.mdが修正されている
- **検証項目**:
  - [ ] 見出しレベル（####）が正しい
  - [ ] コードブロック（```bash）が正しく開閉されている
  - [ ] コメント（#）が正しく記載されている
  - [ ] 既存のフォーマットと統一されている
- **期待結果**: GitHubプレビューで正しく表示される
- **テストデータ**: 設計書Section 7.3の変更後内容

**テスト手順**:
1. `ansible/README.md`のMarkdown構文を確認
2. （推奨）GitHub上でプレビュー表示して確認
3. （または）ローカルのMarkdownプレビューツールで確認

---

### 2.4. ドキュメント間整合性検証テスト

#### テストケース UT-012: パラメータ名の一貫性確認

- **目的**: 3ファイル間で`force_destroy`パラメータ名が一貫していることを検証
- **前提条件**: 3ファイルすべてが修正されている
- **検証対象**:
  - Job DSL: `infrastructure_ansible_playbook_executor_job.groovy`
  - jenkins/README.md
  - ansible/README.md
- **検証項目**:
  - [ ] パラメータ名が正確に`force_destroy`である（スペルミスなし）
  - [ ] 大文字小文字が一致している（すべて小文字）
  - [ ] アンダースコア区切りが一致している（`force_destroy`、`destroy_ssm`）
- **期待結果**: 3ファイル間でパラメータ名が完全に一致している
- **テストデータ**: 3ファイルすべて

**テスト手順**:
1. 3ファイルを並べて開く
2. `force_destroy`パラメータ名をすべて検索
3. スペル、大文字小文字、区切り文字が一致しているか確認

---

#### テストケース UT-013: 実行例の一貫性確認

- **目的**: 3ファイル間で実行例が一貫していることを検証
- **前提条件**: 3ファイルすべてが修正されている
- **検証項目**:
  - [ ] 基本例（`env=dev force_destroy=true`）が3ファイルで一致
  - [ ] 拡張例（`env=dev force_destroy=true destroy_ssm=true`）が一致
  - [ ] 環境名（`dev`）が統一されている
  - [ ] パラメータの順序が統一されている
- **期待結果**: 3ファイル間で実行例に矛盾がない
- **テストデータ**: 3ファイルすべて

**テスト手順**:
1. 3ファイルの実行例をすべて抽出
2. パラメータ値、順序を比較
3. 環境名が統一されているか確認

---

#### テストケース UT-014: 説明文の整合性確認

- **目的**: 3ファイル間で`force_destroy`に関する説明が矛盾していないことを検証
- **前提条件**: 3ファイルすべてが修正されている
- **検証項目**:
  - [ ] 「非対話モード（CI/Jenkins）では必須」という説明が一貫している
  - [ ] セーフガード機能についての説明が矛盾していない
  - [ ] プレイブック（66-69行目）への参照が正確
- **期待結果**: 説明内容に矛盾がなく、相互に補完的である
- **テストデータ**: 3ファイルすべて

**テスト手順**:
1. 3ファイルの説明文を読み比べる
2. 矛盾する記述がないか確認
3. 用語（「非対話モード」「CI/Jenkins」）が統一されているか確認

---

### 2.5. プレイブック実装との整合性検証テスト

#### テストケース UT-015: プレイブック実装との照合

- **目的**: ドキュメント内容がプレイブック（66-69行目）の実装と完全に一致することを検証
- **前提条件**: 3ファイルすべてが修正されている
- **検証対象**: `ansible/playbooks/lambda/lambda_teardown_pipeline.yml` (66-69行目)
- **検証項目**:
  - [ ] パラメータ名が実装と一致（`force_destroy`）
  - [ ] 条件ロジックの説明が正確（「非対話モードでは必須」）
  - [ ] エラーメッセージ内の実行例と一致している
  - [ ] `is_interactive`変数の動作説明が正確
- **期待結果**: ドキュメントと実装が100%一致している
- **テストデータ**:
  - プレイブック: 66-69行目
  - 要件定義書: Section 12.3

**テスト手順**:
1. `ansible/playbooks/lambda/lambda_teardown_pipeline.yml`の66-69行目を開く
2. `when`条件の実装を確認:
   ```yaml
   when:
     - not is_interactive | bool
     - force_destroy is not defined or not force_destroy | bool
   ```
3. ドキュメント内の説明が上記ロジックと一致しているか確認
4. エラーメッセージ内の実行例（`env=dev force_destroy=true`）とドキュメントの実行例が一致しているか確認

---

### 2.6. 誤字脱字・品質検証テスト

#### テストケース UT-016: 誤字脱字チェック

- **目的**: 3ファイルに誤字脱字がないことを検証
- **前提条件**: 3ファイルすべてが修正されている
- **検証項目**:
  - [ ] 日本語の誤字脱字がない
  - [ ] 英単語のスペルミスがない（`force_destroy`、`destroy_ssm`、`ANSIBLE_EXTRA_VARS`）
  - [ ] 句読点が適切である
  - [ ] 文章が自然である
- **期待結果**: 誤字脱字がなく、読みやすい文章である
- **テストデータ**: 3ファイルすべて

**テスト手順**:
1. 3ファイルをすべて通読
2. 誤字脱字、不自然な表現を探す
3. （推奨）スペルチェックツールを使用

---

#### テストケース UT-017: 日本語文章の自然さ確認

- **目的**: 追加した日本語文章が自然で読みやすいことを検証
- **前提条件**: 3ファイルすべてが修正されている
- **検証項目**:
  - [ ] 文章が分かりやすい（技術的知識が中程度のユーザーでも理解できる）
  - [ ] 専門用語に説明がある（初出時）
  - [ ] 文体が統一されている（敬体/常体）
  - [ ] 既存ドキュメントと文体が一致している
- **期待結果**: ユーザーが迷わず理解できる
- **テストデータ**: 3ファイルすべて

**テスト手順**:
1. 追加した文章を音読する
2. 分かりにくい箇所がないか確認
3. 既存ドキュメントの文体と比較

---

## 3. テストデータ

### 3.1. 正常データ

#### 正常な実行例（基本）
```bash
ANSIBLE_EXTRA_VARS: "env=dev force_destroy=true"
```

#### 正常な実行例（拡張）
```bash
ANSIBLE_EXTRA_VARS: "env=dev force_destroy=true destroy_ssm=true"
```

#### 正常なコマンドライン実行例
```bash
ansible-playbook playbooks/lambda/lambda_teardown_pipeline.yml -e "env=dev force_destroy=true"
```

### 3.2. 異常データ（ドキュメントで警告すべき例）

#### force_destroy未設定（エラーになる例）
```bash
# ❌ これはエラーになる（非対話モードでは）
ANSIBLE_EXTRA_VARS: "env=dev"
```

#### パラメータ名のスペルミス（エラーになる例）
```bash
# ❌ これはエラーになる（パラメータ名が間違っている）
ANSIBLE_EXTRA_VARS: "env=dev force_destory=true"  # destory は誤り
```

### 3.3. 境界値データ

#### 本番環境（注意が必要な例）
```bash
# ⚠️ 本番環境の削除は特に慎重に
ANSIBLE_EXTRA_VARS: "env=prod force_destroy=true"
```

---

## 4. テスト環境要件

### 4.1. 必要な環境

- **ローカル環境**: テキストエディタ、Markdownプレビューツール
- **GitHub環境**（推奨）: GitHub上でMarkdownプレビュー確認
- **Ansible環境**（オプション）: コマンド構文の検証用

### 4.2. 必要なファイル

- `jenkins/jobs/dsl/infrastructure/infrastructure_ansible_playbook_executor_job.groovy`
- `jenkins/README.md`
- `ansible/README.md`
- `ansible/playbooks/lambda/lambda_teardown_pipeline.yml`（参照用）

### 4.3. モック/スタブの必要性

**不要**（ドキュメント検証のみのため）

---

## 5. テスト実施チェックリスト

### Phase 6で実施すべきテスト（優先順位順）

#### 高優先度（必須）

- [ ] **UT-015**: プレイブック実装との照合
- [ ] **UT-004**: パラメータ説明の正確性確認（jenkins/README.md）
- [ ] **UT-008**: Lambda実行例の更新確認（ansible/README.md）
- [ ] **UT-001**: パラメータコメントの存在確認（Job DSL）
- [ ] **UT-012**: パラメータ名の一貫性確認（3ファイル間）

#### 中優先度（推奨）

- [ ] **UT-003**: Lambda Teardown Pipelineセクションの存在確認
- [ ] **UT-005**: 実行例の構文確認（jenkins/README.md）
- [ ] **UT-009**: コマンド構文の正確性確認（ansible/README.md）
- [ ] **UT-013**: 実行例の一貫性確認（3ファイル間）
- [ ] **UT-016**: 誤字脱字チェック

#### 低優先度（オプション）

- [ ] **UT-002**: コメントのGroovy構文確認
- [ ] **UT-006**: 注意事項の明確性確認
- [ ] **UT-007**: Markdownレンダリング確認（jenkins/README.md）
- [ ] **UT-010**: 注意書きの追加確認（ansible/README.md）
- [ ] **UT-011**: Markdownレンダリング確認（ansible/README.md）
- [ ] **UT-014**: 説明文の整合性確認
- [ ] **UT-017**: 日本語文章の自然さ確認

---

## 6. 品質ゲート（Phase 3）チェックリスト

以下の品質ゲートは**必須要件**です：

- [x] **Phase 2の戦略に沿ったテストシナリオである**: UNIT_ONLY戦略に従い、ドキュメント検証テストのみを作成
- [x] **主要な正常系がカバーされている**: UT-001, UT-003, UT-004, UT-008, UT-015で正常な記載内容を検証
- [x] **主要な異常系がカバーされている**: UT-012, UT-013, UT-014で3ファイル間の矛盾（異常）を検出
- [x] **期待結果が明確である**: すべてのテストケースに具体的な検証項目と期待結果を記載

---

## 7. テストシナリオ実行時の注意事項

### 7.1. テスト実施時の優先順位

1. **最優先**: プレイブック実装との整合性（UT-015）
   - これが間違っていると、ドキュメント全体が無意味になる

2. **高優先**: パラメータ名と実行例の正確性（UT-004, UT-008, UT-012）
   - ユーザーが実際にコピー&ペーストする箇所

3. **中優先**: ドキュメント間の整合性（UT-013, UT-014）
   - 矛盾があるとユーザーが混乱する

4. **低優先**: Markdown構文と誤字脱字（UT-007, UT-011, UT-016）
   - 見た目の問題、機能的な影響は小さい

### 7.2. ブロッカーとなる不合格

以下のテストが不合格の場合、**次フェーズに進めません**：

- **UT-015**: プレイブック実装との照合
- **UT-012**: パラメータ名の一貫性確認
- **UT-004**: パラメータ説明の正確性確認
- **UT-008**: Lambda実行例の更新確認

### 7.3. テスト結果の記録

各テストケース実施後、以下を記録：

- **実施日時**
- **実施者**
- **合格/不合格**
- **不合格の場合**: 具体的な問題点
- **修正要否**

---

## 8. 補足情報

### 8.1. Planning Documentとの整合性確認

| Planning項目 | テストシナリオでの対応 | 状態 |
|-------------|----------------------|------|
| テスト戦略: UNIT_ONLY | Section 2で17個のUnitテストシナリオを作成 | ✅ |
| Phase 6: テスト実行 (0.25h) | 優先順位付けされたテストチェックリストを作成 | ✅ |
| パラメータ名の正確性チェック | UT-012, UT-015で対応 | ✅ |
| 実行例の動作確認 | UT-005, UT-009で対応 | ✅ |
| 既存ドキュメントとの整合性確認 | UT-013, UT-014で対応 | ✅ |

### 8.2. 要件定義書の受け入れ基準との対応表

| 受け入れ基準ID | テストケース | 状態 |
|--------------|------------|------|
| AC-001: Job DSLファイルのコメント追加 | UT-001, UT-002 | ✅ |
| AC-002: jenkins/README.mdへのセクション追加 | UT-003, UT-004, UT-005, UT-006, UT-007 | ✅ |
| AC-003: ansible/README.mdへの実行例追記 | UT-008, UT-009, UT-010, UT-011 | ✅ |
| AC-004: ドキュメントの一貫性確認 | UT-012, UT-013, UT-014 | ✅ |
| AC-005: 誤字脱字のチェック | UT-016, UT-017 | ✅ |
| AC-006: Markdownレンダリング確認 | UT-007, UT-011 | ✅ |

### 8.3. 設計書との対応表

| 設計書セクション | テストケース | 状態 |
|----------------|------------|------|
| 7.1: Job DSLファイルへのコメント追加 | UT-001, UT-002 | ✅ |
| 7.2: jenkins/README.mdへのセクション追加 | UT-003, UT-004, UT-005, UT-006, UT-007 | ✅ |
| 7.3: ansible/README.mdへのセクション追加 | UT-008, UT-009, UT-010, UT-011 | ✅ |
| 8: セキュリティ考慮事項 | UT-006（注意事項の明確性）で対応 | ✅ |
| 10: 実装の順序（Phase 6テスト順序） | Section 5（テスト実施チェックリスト）で対応 | ✅ |

---

## まとめ

このテストシナリオは、**UNIT_ONLY戦略**に従い、ドキュメント更新のみの変更に対する「ドキュメント品質検証」に特化しています。

### テストシナリオの特徴

1. **17個のUnitテストシナリオ**: 各ファイルの正確性、3ファイル間の整合性を網羅的に検証
2. **優先順位付け**: 高/中/低の3段階で優先度を設定し、効率的なテスト実施を支援
3. **実装との整合性重視**: プレイブック（66-69行目）との照合を最優先テストとして設定
4. **実行可能性**: 各テストケースに具体的な検証項目と手順を記載
5. **品質ゲート準拠**: Planning DocumentとRequirements Documentの方針に完全準拠

### 次フェーズ（Phase 4: Implementation）への準備

- すべてのテストシナリオが実装可能な形で記載されている
- ブロッカーとなる不合格条件が明確
- テスト実施チェックリストで効率的なテスト実行が可能

---

**レビューポイント**:
- [x] UNIT_ONLY戦略に沿ったテストシナリオであるか
- [x] 主要な正常系がカバーされているか（UT-001, UT-003, UT-004, UT-008, UT-015）
- [x] 主要な異常系がカバーされているか（UT-012, UT-013, UT-014）
- [x] 期待結果が明確であるか（すべてのテストケースに検証項目を記載）
- [x] ブロッカー（次フェーズに進めない問題）が存在しないか
