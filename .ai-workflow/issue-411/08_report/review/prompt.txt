# レポート作成フェーズ - レビュープロンプト

## レビュー対象

### レポート
@.ai-workflow/issue-411/08_report/output/report.md

### 各フェーズ成果物（参考）
- Phase 1 (Requirements): @.ai-workflow/issue-411/01_requirements/output/requirements.md
- Phase 2 (Design): @.ai-workflow/issue-411/02_design/output/design.md
- Phase 3 (Test Scenario): @.ai-workflow/issue-411/03_test_scenario/output/test-scenario.md
- Phase 4 (Implementation): @.ai-workflow/issue-411/04_implementation/output/implementation.md
- Phase 5 (Test Implementation): @.ai-workflow/issue-411/05_test_implementation/output/test-implementation.md
- Phase 6 (Testing): @.ai-workflow/issue-411/06_testing/output/test-result.md
- Phase 7 (Documentation): @.ai-workflow/issue-411/07_documentation/output/documentation-update-log.md

## 品質ゲート（Phase 7: Report）

レポートは以下の品質ゲートをクリアする必要があります：

- [ ] **変更内容が要約されている**
- [ ] **マージ判断に必要な情報が揃っている**
- [ ] **動作確認手順が記載されている**

## ⚠️ 重要: Planning Phaseチェックリストとの照合（必須）

### 1. Planning.mdの読み込み

以下のファイルを読み込んでください：
- @.ai-workflow/issue-411/00_planning/output/planning.md

### 2. 該当フェーズのチェックリストを抽出

Planning.mdから、現在のフェーズ（"### Phase 8:" または "## Phase 8:"）のセクションを見つけ、タスクチェックリストを抽出してください。

**注意**: チェックリストが見つからない場合は、このチェックをスキップしてください。

### 3. レポート内容との照合

レポート（report.md）と照合し、各タスクが完了しているかチェックしてください。

**完了の判定基準**:
- Task記載の項目が記述されているか
- Task記載の情報が含まれているか
- サブタスクがすべて完了しているか

### 4. Planning.mdの更新

照合結果に基づき、planning.mdのチェックボックスを更新してください：

- 完了したタスク: `- [ ]` → `- [x]`
- 未完了のタスク: `- [ ]` のまま

**Editツールを使用**して、該当フェーズのセクションを更新してください。

### 5. レビュー判定への反映

- **すべてのタスクが完了**（全て `[x]`）: PASS または PASS_WITH_SUGGESTIONS
- **未完了タスクがある**（`[ ]` が残っている）: FAIL
  - レビューフィードバックに未完了タスクをリストアップ
  - 具体的に何が不足しているか説明

**例（FAIL時のフィードバック）**:
```
## Planning Phaseチェックリスト照合結果: FAIL

以下のタスクが未完了です：

- [ ] Task 8-2: 動作確認手順の記載
  - 不足: 動作確認手順が記載されていません
- [ ] Task 8-3: リリースノートの作成
  - 不足: リリースノートが作成されていません

これらのタスクを完了してから再提出してください。
```

## レビュー姿勢

このレビューは「**80点で十分**」の原則に基づいて実施してください：

1. **完璧ではなく、十分を目指す**
   - すべての詳細が完璧である必要はない
   - マージ判断に必要な情報が揃っていれば合格
   - 細かい改善点は改善提案として記載

2. **ブロッカーと改善提案を明確に区別**
   - ブロッカー: マージ判断ができない重大な欠陥
   - 改善提案: より良いレポートにするための提案

3. **実用的でバランスの取れた判断**
   - レビュアーがマージ判断できることを最優先
   - 必須情報が明確であれば合格

4. **建設的なフィードバック**
   - 不足を指摘するだけでなく、具体的な改善案を提示
   - レポートの良い点も評価

## レビュー観点

### 1. 変更内容の要約（最重要）

- エグゼクティブサマリーが明確か
- 実装内容が1-2文で理解できるか
- ビジネス価値が説明されているか
- 技術的変更の概要が記載されているか

### 2. マージ判断に必要な情報

- リスク評価が明確か（高/中/低の分類）
- マージ推奨判定が明記されているか（✅/⚠️/❌）
- 判定の理由が論理的か
- 条件付き推奨の場合、条件が明確か

### 3. 動作確認手順

- テスト結果が記載されているか
- マージチェックリストが実用的か
- 次のステップが明確か
- ロールバック手順が必要な場合、記載されているか

### 4. 各フェーズからの情報統合

- Phase 1-6の重要情報が適切に抜粋されているか
- 情報の重複や矛盾がないか
- 読みやすい構成になっているか

## ブロッカー（BLOCKER）と改善提案（SUGGESTION）の区別

### ブロッカー（BLOCKER）: マージ判断ができない重大な欠陥

**ブロッカーの例**:
- エグゼクティブサマリーが存在しない
- マージ推奨判定が記載されていない
- 実装内容が全く説明されていない
- リスク評価が全く記載されていない
- テスト結果が全く記載されていない

### 改善提案（SUGGESTION）: より良いレポートにするための提案

**改善提案の例**:
- ビジネス価値の説明が薄い
- 技術的変更の詳細がもう少し欲しい
- マージチェックリストに項目追加が望ましい
- 次のステップがもう少し具体的だと良い
- フォーマットの改善

## 出力フォーマット

以下の形式で出力してください：

```markdown
## 品質ゲート評価

- [x/  ] **変更内容が要約されている**: PASS/FAIL - （コメント）
- [x/  ] **マージ判断に必要な情報が揃っている**: PASS/FAIL - （コメント）
- [x/  ] **動作確認手順が記載されている**: PASS/FAIL - （コメント）

## 詳細レビュー

### 1. 変更内容の要約

**良好な点**:
- （具体的な良い点）

**懸念点**:
- （懸念があれば記載）

### 2. マージ判断に必要な情報

**良好な点**:
- （具体的な良い点）

**懸念点**:
- （懸念があれば記載）

### 3. 動作確認手順

**良好な点**:
- （具体的な良い点）

**改善の余地**:
- （改善提案があれば記載）

### 4. 各フェーズからの情報統合

**良好な点**:
- （具体的な良い点）

**改善の余地**:
- （改善提案があれば記載）

## ブロッカー（BLOCKER）

**マージ判断ができない重大な欠陥**

（ブロッカーがある場合のみ記載）
1. **（ブロッカー1のタイトル）**
   - 問題: （具体的な問題）
   - 影響: （なぜマージ判断ができないか）
   - 対策: （どう修正すべきか）

## 改善提案（SUGGESTION）

**より良いレポートにするための提案**

（改善提案がある場合のみ記載）
1. **（提案1のタイトル）**
   - 現状: （現在の状態）
   - 提案: （こうすればより良い）
   - 効果: （改善による効果）

## 総合評価

（レポート全体の総合的な評価）

**主な強み**:
- （良い点をまとめる）

**主な改善提案**:
- （改善提案をまとめる）

（総括コメント）

---
**判定: PASS / PASS_WITH_SUGGESTIONS / FAIL**
```

## レビュー実施

上記フォーマットに従って、レポートのクリティカルシンキングレビューを実施してください。

## ⚠️ 重要: 判定の出力は必須

**レビュー結果の最後に、必ず以下のいずれかの形式で判定を出力してください：**

```
---
**判定: PASS**
```

または

```
---
**判定: PASS_WITH_SUGGESTIONS**
```

または

```
---
**判定: FAIL**
```

**この判定がないと、レビュー結果が正しく処理されません。必ず3つのいずれかの判定を、上記の正確な形式で明示的に出力してください。**
