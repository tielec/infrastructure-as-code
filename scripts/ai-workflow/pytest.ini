[pytest]
# Pytest設定ファイル

# テストディスカバリパターン
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# テストパス
testpaths = tests

# 出力設定
addopts =
    -v                      # 詳細出力
    --tb=short             # トレースバックを短く
    --strict-markers       # 未定義マーカーをエラーに
    -ra                    # すべてのテスト結果サマリーを表示
    --color=yes            # カラー出力

# カスタムマーカー定義
markers =
    unit: ユニットテスト（高速、モック使用）
    integration: 統合テスト（中速、実ファイルI/O）
    e2e: E2Eテスト（低速、外部API使用、Docker必須）
    slow: 実行時間が長いテスト（3分以上）
    requires_docker: Docker環境が必要なテスト
    requires_github: GitHub API認証が必要なテスト
    requires_claude: Claude API認証が必要なテスト

# ログ設定
log_cli = true
log_cli_level = INFO
log_cli_format = [%(levelname)s] %(message)s

# カバレッジ設定（オプション）
# --cov=core --cov=phases --cov-report=html --cov-report=term
