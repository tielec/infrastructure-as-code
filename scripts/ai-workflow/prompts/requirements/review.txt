# 要件定義フェーズ - レビュープロンプト

## タスク概要

生成された要件定義書をクリティカルシンキングでレビューし、品質を評価してください。

**最優先事項**: レビュー完了後、必ず最終行に判定キーワードを明記すること。

## レビュー対象

{requirements_document_path}

## レビュー観点

以下の観点で要件定義書を評価してください：

### 1. 具体性（Specificity）
- [ ] 要件が具体的かつ明確に記述されているか
- [ ] 曖昧な表現（「適切に」「必要に応じて」など）が使われていないか
- [ ] 数値や基準が明示されているか

### 2. 完全性（Completeness）
- [ ] Issue本文の情報が漏れなく反映されているか
- [ ] 機能要件がすべて網羅されているか
- [ ] 非機能要件が適切に定義されているか
- [ ] 制約事項・前提条件が明記されているか

### 3. 検証可能性（Verifiability）
- [ ] 各要件が検証可能（テスト可能）な形で記述されているか
- [ ] 受け入れ基準が明確に定義されているか
- [ ] 成功条件・失敗条件が識別可能か

### 4. 整合性（Consistency）
- [ ] 各セクション間で矛盾がないか
- [ ] プロジェクトの全体方針（CLAUDE.md、ARCHITECTURE.md）と整合しているか
- [ ] 既存システムとの整合性が考慮されているか

### 5. 実現可能性（Feasibility）
- [ ] 技術的に実現可能な要件か
- [ ] リソース制約（時間、人員、予算）を考慮しているか
- [ ] 既存技術スタックと整合しているか

### 6. 優先度（Priority）
- [ ] 各要件の優先度が適切に設定されているか
- [ ] MVP（Minimum Viable Product）範囲が明確か
- [ ] 段階的なリリース計画が考慮されているか

### 7. セキュリティ（Security）
- [ ] セキュリティ要件が適切に定義されているか
- [ ] 認証・認可・暗号化などが考慮されているか
- [ ] 機密情報の取り扱いが明記されているか

### 8. パフォーマンス（Performance）
- [ ] パフォーマンス要件が定義されているか
- [ ] レスポンスタイム、スループット、リソース使用量などが明示されているか

## 判定基準

以下のいずれかの判定を返してください：

### PASS（合格）
- すべてのレビュー観点で問題なし
- 軽微な指摘のみ（typoレベル）

### PASS_WITH_SUGGESTIONS（条件付き合格）
- 基本的な品質は満たしているが、改善余地あり
- 実装前に検討すべき提案がある
- 非機能要件の一部が不足している

### FAIL（不合格）
- 重大な欠陥・矛盾がある
- 要件の具体性・検証可能性が不十分
- Issue本文との乖離が大きい

## 出力形式

自然言語で詳細なレビューを記述し、**最後に必ず以下の形式で判定を明記**してください：

```
## 詳細レビュー

### 1. 具体性（Specificity）
[評価内容...]

### 2. 完全性（Completeness）
[評価内容...]

### 3. 検証可能性（Verifiability）
[評価内容...]

### 4. 整合性（Consistency）
[評価内容...]

### 5. 実現可能性（Feasibility）
[評価内容...]

### 6. 優先度（Priority）
[評価内容...]

### 7. セキュリティ（Security）
[評価内容...]

### 8. パフォーマンス（Performance）
[評価内容...]

## 総合評価

[総合的なフィードバック...]

## 改善提案

- 提案1
- 提案2
- 提案3

---
**判定: PASS | PASS_WITH_SUGGESTIONS | FAIL**
```

**重要**: 最終行に必ず「**判定: PASS**」「**判定: PASS_WITH_SUGGESTIONS**」「**判定: FAIL**」のいずれかを記載してください。

## レビューポリシー

1. **厳格かつ公平**: 感情を排し、客観的な基準で評価
2. **建設的**: 問題指摘だけでなく、具体的な改善提案を提示
3. **実用的**: 理論だけでなく、実装の現実性を考慮
4. **一貫性**: レビュー基準を一貫して適用

## 参考情報（オプション）

時間があれば以下も参照してください：
- プロジェクトのCLAUDE.mdファイル - プロジェクトの方針
- ARCHITECTURE.md - アーキテクチャ設計思想
- 関連するCONTRIBUTION.md - 開発ガイドライン

## 必須アクション

**レビュー完了後、必ず最終行に「**判定: PASS**」「**判定: PASS_WITH_SUGGESTIONS**」「**判定: FAIL**」のいずれかを明記してください。判定の明記は必須です。**
